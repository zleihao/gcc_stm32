ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"stm32f10x_can.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.CAN_DeInit,"ax",%progbits
  18              		.align	1
  19              		.global	CAN_DeInit
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  24              	CAN_DeInit:
  25              	.LFB29:
  26              		.file 1 "./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c"
   1:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
   2:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   ******************************************************************************
   3:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @file    stm32f10x_can.c
   4:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @author  MCD Application Team
   5:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @version V3.5.0
   6:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @date    11-March-2011
   7:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief   This file provides all the CAN firmware functions.
   8:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   ******************************************************************************
   9:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @attention
  10:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *
  11:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * THE PRESENT FIRMWARE WHICH IS FOR GUIDANCE ONLY AIMS AT PROVIDING CUSTOMERS
  12:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * WITH CODING INFORMATION REGARDING THEIR PRODUCTS IN ORDER FOR THEM TO SAVE
  13:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * TIME. AS A RESULT, STMICROELECTRONICS SHALL NOT BE HELD LIABLE FOR ANY
  14:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * DIRECT, INDIRECT OR CONSEQUENTIAL DAMAGES WITH RESPECT TO ANY CLAIMS ARISING
  15:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * FROM THE CONTENT OF SUCH FIRMWARE AND/OR THE USE MADE BY CUSTOMERS OF THE
  16:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * CODING INFORMATION CONTAINED HEREIN IN CONNECTION WITH THEIR PRODUCTS.
  17:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *
  18:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * <h2><center>&copy; COPYRIGHT 2011 STMicroelectronics</center></h2>
  19:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   ******************************************************************************
  20:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
  21:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  22:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /* Includes ------------------------------------------------------------------*/
  23:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #include "stm32f10x_can.h"
  24:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #include "stm32f10x_rcc.h"
  25:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  26:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /** @addtogroup STM32F10x_StdPeriph_Driver
  27:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @{
  28:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
  29:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  30:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /** @defgroup CAN 
  31:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief CAN driver modules
  32:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @{
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 2


  33:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */ 
  34:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  35:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /** @defgroup CAN_Private_TypesDefinitions
  36:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @{
  37:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
  38:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  39:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
  40:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @}
  41:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
  42:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  43:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /** @defgroup CAN_Private_Defines
  44:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @{
  45:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
  46:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  47:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /* CAN Master Control Register bits */
  48:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  49:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #define MCR_DBF      ((uint32_t)0x00010000) /* software master reset */
  50:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  51:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /* CAN Mailbox Transmit Request */
  52:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #define TMIDxR_TXRQ  ((uint32_t)0x00000001) /* Transmit mailbox request */
  53:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  54:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /* CAN Filter Master Register bits */
  55:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #define FMR_FINIT    ((uint32_t)0x00000001) /* Filter init mode */
  56:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  57:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /* Time out for INAK bit */
  58:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #define INAK_TIMEOUT        ((uint32_t)0x0000FFFF)
  59:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /* Time out for SLAK bit */
  60:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #define SLAK_TIMEOUT        ((uint32_t)0x0000FFFF)
  61:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  62:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  63:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  64:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /* Flags in TSR register */
  65:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #define CAN_FLAGS_TSR              ((uint32_t)0x08000000) 
  66:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /* Flags in RF1R register */
  67:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #define CAN_FLAGS_RF1R             ((uint32_t)0x04000000) 
  68:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /* Flags in RF0R register */
  69:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #define CAN_FLAGS_RF0R             ((uint32_t)0x02000000) 
  70:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /* Flags in MSR register */
  71:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #define CAN_FLAGS_MSR              ((uint32_t)0x01000000) 
  72:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /* Flags in ESR register */
  73:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #define CAN_FLAGS_ESR              ((uint32_t)0x00F00000) 
  74:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  75:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /* Mailboxes definition */
  76:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #define CAN_TXMAILBOX_0                   ((uint8_t)0x00)
  77:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #define CAN_TXMAILBOX_1                   ((uint8_t)0x01)
  78:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #define CAN_TXMAILBOX_2                   ((uint8_t)0x02) 
  79:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  80:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  81:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  82:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #define CAN_MODE_MASK              ((uint32_t) 0x00000003)
  83:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
  84:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @}
  85:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
  86:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  87:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /** @defgroup CAN_Private_Macros
  88:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @{
  89:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 3


  90:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  91:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
  92:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @}
  93:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
  94:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  95:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /** @defgroup CAN_Private_Variables
  96:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @{
  97:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
  98:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  99:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 100:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @}
 101:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 102:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 103:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /** @defgroup CAN_Private_FunctionPrototypes
 104:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @{
 105:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 106:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 107:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** static ITStatus CheckITStatus(uint32_t CAN_Reg, uint32_t It_Bit);
 108:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 109:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 110:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @}
 111:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 112:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 113:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /** @defgroup CAN_Private_Functions
 114:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @{
 115:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 116:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 117:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 118:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Deinitializes the CAN peripheral registers to their default reset values.
 119:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx: where x can be 1 or 2 to select the CAN peripheral.
 120:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval None.
 121:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 122:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** void CAN_DeInit(CAN_TypeDef* CANx)
 123:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
  27              		.loc 1 123 1
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 8
  30              		@ frame_needed = 1, uses_anonymous_args = 0
  31 0000 80B5     		push	{r7, lr}
  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 8
  34              		.cfi_offset 7, -8
  35              		.cfi_offset 14, -4
  36 0002 82B0     		sub	sp, sp, #8
  37              	.LCFI1:
  38              		.cfi_def_cfa_offset 16
  39 0004 00AF     		add	r7, sp, #0
  40              	.LCFI2:
  41              		.cfi_def_cfa_register 7
  42 0006 7860     		str	r0, [r7, #4]
 124:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 125:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 126:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****  
 127:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (CANx == CAN1)
  43              		.loc 1 127 6
  44 0008 7B68     		ldr	r3, [r7, #4]
  45 000a 0E4A     		ldr	r2, .L5
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 4


  46 000c 9342     		cmp	r3, r2
  47 000e 0AD1     		bne	.L2
 128:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 129:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Enable CAN1 reset state */
 130:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_CAN1, ENABLE);
  48              		.loc 1 130 5
  49 0010 0121     		movs	r1, #1
  50 0012 4FF00070 		mov	r0, #33554432
  51 0016 FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
 131:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Release CAN1 from reset state */
 132:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_CAN1, DISABLE);
  52              		.loc 1 132 5
  53 001a 0021     		movs	r1, #0
  54 001c 4FF00070 		mov	r0, #33554432
  55 0020 FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
 133:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 134:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else
 135:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {  
 136:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Enable CAN2 reset state */
 137:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_CAN2, ENABLE);
 138:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Release CAN2 from reset state */
 139:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_CAN2, DISABLE);
 140:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 141:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
  56              		.loc 1 141 1
  57 0024 09E0     		b	.L4
  58              	.L2:
 137:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Release CAN2 from reset state */
  59              		.loc 1 137 5
  60 0026 0121     		movs	r1, #1
  61 0028 4FF08060 		mov	r0, #67108864
  62 002c FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
 139:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
  63              		.loc 1 139 5
  64 0030 0021     		movs	r1, #0
  65 0032 4FF08060 		mov	r0, #67108864
  66 0036 FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
  67              	.L4:
  68              		.loc 1 141 1
  69 003a 00BF     		nop
  70 003c 0837     		adds	r7, r7, #8
  71              	.LCFI3:
  72              		.cfi_def_cfa_offset 8
  73 003e BD46     		mov	sp, r7
  74              	.LCFI4:
  75              		.cfi_def_cfa_register 13
  76              		@ sp needed
  77 0040 80BD     		pop	{r7, pc}
  78              	.L6:
  79 0042 00BF     		.align	2
  80              	.L5:
  81 0044 00640040 		.word	1073767424
  82              		.cfi_endproc
  83              	.LFE29:
  85              		.section	.text.CAN_Init,"ax",%progbits
  86              		.align	1
  87              		.global	CAN_Init
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 5


  88              		.syntax unified
  89              		.thumb
  90              		.thumb_func
  92              	CAN_Init:
  93              	.LFB30:
 142:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 143:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 144:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Initializes the CAN peripheral according to the specified
 145:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *         parameters in the CAN_InitStruct.
 146:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:           where x can be 1 or 2 to to select the CAN 
 147:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                         peripheral.
 148:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CAN_InitStruct: pointer to a CAN_InitTypeDef structure that
 149:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                         contains the configuration information for the 
 150:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                         CAN peripheral.
 151:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval Constant indicates initialization succeed which will be 
 152:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *         CAN_InitStatus_Failed or CAN_InitStatus_Success.
 153:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 154:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** uint8_t CAN_Init(CAN_TypeDef* CANx, CAN_InitTypeDef* CAN_InitStruct)
 155:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
  94              		.loc 1 155 1
  95              		.cfi_startproc
  96              		@ args = 0, pretend = 0, frame = 16
  97              		@ frame_needed = 1, uses_anonymous_args = 0
  98              		@ link register save eliminated.
  99 0000 80B4     		push	{r7}
 100              	.LCFI5:
 101              		.cfi_def_cfa_offset 4
 102              		.cfi_offset 7, -4
 103 0002 85B0     		sub	sp, sp, #20
 104              	.LCFI6:
 105              		.cfi_def_cfa_offset 24
 106 0004 00AF     		add	r7, sp, #0
 107              	.LCFI7:
 108              		.cfi_def_cfa_register 7
 109 0006 7860     		str	r0, [r7, #4]
 110 0008 3960     		str	r1, [r7]
 156:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint8_t InitStatus = CAN_InitStatus_Failed;
 111              		.loc 1 156 11
 112 000a 0023     		movs	r3, #0
 113 000c FB73     		strb	r3, [r7, #15]
 157:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint32_t wait_ack = 0x00000000;
 114              		.loc 1 157 12
 115 000e 0023     		movs	r3, #0
 116 0010 BB60     		str	r3, [r7, #8]
 158:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 159:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 160:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(CAN_InitStruct->CAN_TTCM));
 161:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(CAN_InitStruct->CAN_ABOM));
 162:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(CAN_InitStruct->CAN_AWUM));
 163:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(CAN_InitStruct->CAN_NART));
 164:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(CAN_InitStruct->CAN_RFLM));
 165:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(CAN_InitStruct->CAN_TXFP));
 166:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_MODE(CAN_InitStruct->CAN_Mode));
 167:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_SJW(CAN_InitStruct->CAN_SJW));
 168:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_BS1(CAN_InitStruct->CAN_BS1));
 169:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_BS2(CAN_InitStruct->CAN_BS2));
 170:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_PRESCALER(CAN_InitStruct->CAN_Prescaler));
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 6


 171:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 172:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Exit from sleep mode */
 173:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CANx->MCR &= (~(uint32_t)CAN_MCR_SLEEP);
 117              		.loc 1 173 13
 118 0012 7B68     		ldr	r3, [r7, #4]
 119 0014 1B68     		ldr	r3, [r3]
 120 0016 23F00202 		bic	r2, r3, #2
 121 001a 7B68     		ldr	r3, [r7, #4]
 122 001c 1A60     		str	r2, [r3]
 174:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 175:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Request initialisation */
 176:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CANx->MCR |= CAN_MCR_INRQ ;
 123              		.loc 1 176 13
 124 001e 7B68     		ldr	r3, [r7, #4]
 125 0020 1B68     		ldr	r3, [r3]
 126 0022 43F00102 		orr	r2, r3, #1
 127 0026 7B68     		ldr	r3, [r7, #4]
 128 0028 1A60     		str	r2, [r3]
 177:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 178:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Wait the acknowledge */
 179:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   while (((CANx->MSR & CAN_MSR_INAK) != CAN_MSR_INAK) && (wait_ack != INAK_TIMEOUT))
 129              		.loc 1 179 9
 130 002a 02E0     		b	.L8
 131              	.L10:
 180:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 181:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     wait_ack++;
 132              		.loc 1 181 13
 133 002c BB68     		ldr	r3, [r7, #8]
 134 002e 0133     		adds	r3, r3, #1
 135 0030 BB60     		str	r3, [r7, #8]
 136              	.L8:
 179:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 137              		.loc 1 179 16
 138 0032 7B68     		ldr	r3, [r7, #4]
 139 0034 5B68     		ldr	r3, [r3, #4]
 179:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 140              		.loc 1 179 22
 141 0036 03F00103 		and	r3, r3, #1
 179:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 142              		.loc 1 179 9
 143 003a 012B     		cmp	r3, #1
 144 003c 04D0     		beq	.L9
 179:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 145              		.loc 1 179 55 discriminator 1
 146 003e BB68     		ldr	r3, [r7, #8]
 147 0040 4FF6FF72 		movw	r2, #65535
 148 0044 9342     		cmp	r3, r2
 149 0046 F1D1     		bne	.L10
 150              	.L9:
 182:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 183:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 184:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check acknowledge */
 185:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if ((CANx->MSR & CAN_MSR_INAK) != CAN_MSR_INAK)
 151              		.loc 1 185 12
 152 0048 7B68     		ldr	r3, [r7, #4]
 153 004a 5B68     		ldr	r3, [r3, #4]
 154              		.loc 1 185 18
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 7


 155 004c 03F00103 		and	r3, r3, #1
 156              		.loc 1 185 6
 157 0050 012B     		cmp	r3, #1
 158 0052 02D0     		beq	.L11
 186:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 187:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     InitStatus = CAN_InitStatus_Failed;
 159              		.loc 1 187 16
 160 0054 0023     		movs	r3, #0
 161 0056 FB73     		strb	r3, [r7, #15]
 162 0058 9CE0     		b	.L12
 163              	.L11:
 188:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 189:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else 
 190:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 191:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Set the time triggered communication mode */
 192:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if (CAN_InitStruct->CAN_TTCM == ENABLE)
 164              		.loc 1 192 23
 165 005a 3B68     		ldr	r3, [r7]
 166 005c 9B79     		ldrb	r3, [r3, #6]	@ zero_extendqisi2
 167              		.loc 1 192 8
 168 005e 012B     		cmp	r3, #1
 169 0060 06D1     		bne	.L13
 193:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 194:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->MCR |= CAN_MCR_TTCM;
 170              		.loc 1 194 17
 171 0062 7B68     		ldr	r3, [r7, #4]
 172 0064 1B68     		ldr	r3, [r3]
 173 0066 43F08002 		orr	r2, r3, #128
 174 006a 7B68     		ldr	r3, [r7, #4]
 175 006c 1A60     		str	r2, [r3]
 176 006e 05E0     		b	.L14
 177              	.L13:
 195:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 196:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
 197:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 198:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->MCR &= ~(uint32_t)CAN_MCR_TTCM;
 178              		.loc 1 198 17
 179 0070 7B68     		ldr	r3, [r7, #4]
 180 0072 1B68     		ldr	r3, [r3]
 181 0074 23F08002 		bic	r2, r3, #128
 182 0078 7B68     		ldr	r3, [r7, #4]
 183 007a 1A60     		str	r2, [r3]
 184              	.L14:
 199:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 200:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 201:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Set the automatic bus-off management */
 202:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if (CAN_InitStruct->CAN_ABOM == ENABLE)
 185              		.loc 1 202 23
 186 007c 3B68     		ldr	r3, [r7]
 187 007e DB79     		ldrb	r3, [r3, #7]	@ zero_extendqisi2
 188              		.loc 1 202 8
 189 0080 012B     		cmp	r3, #1
 190 0082 06D1     		bne	.L15
 203:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 204:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->MCR |= CAN_MCR_ABOM;
 191              		.loc 1 204 17
 192 0084 7B68     		ldr	r3, [r7, #4]
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 8


 193 0086 1B68     		ldr	r3, [r3]
 194 0088 43F04002 		orr	r2, r3, #64
 195 008c 7B68     		ldr	r3, [r7, #4]
 196 008e 1A60     		str	r2, [r3]
 197 0090 05E0     		b	.L16
 198              	.L15:
 205:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 206:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
 207:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 208:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->MCR &= ~(uint32_t)CAN_MCR_ABOM;
 199              		.loc 1 208 17
 200 0092 7B68     		ldr	r3, [r7, #4]
 201 0094 1B68     		ldr	r3, [r3]
 202 0096 23F04002 		bic	r2, r3, #64
 203 009a 7B68     		ldr	r3, [r7, #4]
 204 009c 1A60     		str	r2, [r3]
 205              	.L16:
 209:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 210:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 211:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Set the automatic wake-up mode */
 212:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if (CAN_InitStruct->CAN_AWUM == ENABLE)
 206              		.loc 1 212 23
 207 009e 3B68     		ldr	r3, [r7]
 208 00a0 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 209              		.loc 1 212 8
 210 00a2 012B     		cmp	r3, #1
 211 00a4 06D1     		bne	.L17
 213:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 214:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->MCR |= CAN_MCR_AWUM;
 212              		.loc 1 214 17
 213 00a6 7B68     		ldr	r3, [r7, #4]
 214 00a8 1B68     		ldr	r3, [r3]
 215 00aa 43F02002 		orr	r2, r3, #32
 216 00ae 7B68     		ldr	r3, [r7, #4]
 217 00b0 1A60     		str	r2, [r3]
 218 00b2 05E0     		b	.L18
 219              	.L17:
 215:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 216:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
 217:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 218:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->MCR &= ~(uint32_t)CAN_MCR_AWUM;
 220              		.loc 1 218 17
 221 00b4 7B68     		ldr	r3, [r7, #4]
 222 00b6 1B68     		ldr	r3, [r3]
 223 00b8 23F02002 		bic	r2, r3, #32
 224 00bc 7B68     		ldr	r3, [r7, #4]
 225 00be 1A60     		str	r2, [r3]
 226              	.L18:
 219:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 220:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 221:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Set the no automatic retransmission */
 222:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if (CAN_InitStruct->CAN_NART == ENABLE)
 227              		.loc 1 222 23
 228 00c0 3B68     		ldr	r3, [r7]
 229 00c2 5B7A     		ldrb	r3, [r3, #9]	@ zero_extendqisi2
 230              		.loc 1 222 8
 231 00c4 012B     		cmp	r3, #1
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 9


 232 00c6 06D1     		bne	.L19
 223:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 224:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->MCR |= CAN_MCR_NART;
 233              		.loc 1 224 17
 234 00c8 7B68     		ldr	r3, [r7, #4]
 235 00ca 1B68     		ldr	r3, [r3]
 236 00cc 43F01002 		orr	r2, r3, #16
 237 00d0 7B68     		ldr	r3, [r7, #4]
 238 00d2 1A60     		str	r2, [r3]
 239 00d4 05E0     		b	.L20
 240              	.L19:
 225:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 226:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
 227:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 228:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->MCR &= ~(uint32_t)CAN_MCR_NART;
 241              		.loc 1 228 17
 242 00d6 7B68     		ldr	r3, [r7, #4]
 243 00d8 1B68     		ldr	r3, [r3]
 244 00da 23F01002 		bic	r2, r3, #16
 245 00de 7B68     		ldr	r3, [r7, #4]
 246 00e0 1A60     		str	r2, [r3]
 247              	.L20:
 229:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 230:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 231:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Set the receive FIFO locked mode */
 232:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if (CAN_InitStruct->CAN_RFLM == ENABLE)
 248              		.loc 1 232 23
 249 00e2 3B68     		ldr	r3, [r7]
 250 00e4 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 251              		.loc 1 232 8
 252 00e6 012B     		cmp	r3, #1
 253 00e8 06D1     		bne	.L21
 233:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 234:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->MCR |= CAN_MCR_RFLM;
 254              		.loc 1 234 17
 255 00ea 7B68     		ldr	r3, [r7, #4]
 256 00ec 1B68     		ldr	r3, [r3]
 257 00ee 43F00802 		orr	r2, r3, #8
 258 00f2 7B68     		ldr	r3, [r7, #4]
 259 00f4 1A60     		str	r2, [r3]
 260 00f6 05E0     		b	.L22
 261              	.L21:
 235:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 236:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
 237:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 238:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->MCR &= ~(uint32_t)CAN_MCR_RFLM;
 262              		.loc 1 238 17
 263 00f8 7B68     		ldr	r3, [r7, #4]
 264 00fa 1B68     		ldr	r3, [r3]
 265 00fc 23F00802 		bic	r2, r3, #8
 266 0100 7B68     		ldr	r3, [r7, #4]
 267 0102 1A60     		str	r2, [r3]
 268              	.L22:
 239:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 240:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 241:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Set the transmit FIFO priority */
 242:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if (CAN_InitStruct->CAN_TXFP == ENABLE)
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 10


 269              		.loc 1 242 23
 270 0104 3B68     		ldr	r3, [r7]
 271 0106 DB7A     		ldrb	r3, [r3, #11]	@ zero_extendqisi2
 272              		.loc 1 242 8
 273 0108 012B     		cmp	r3, #1
 274 010a 06D1     		bne	.L23
 243:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 244:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->MCR |= CAN_MCR_TXFP;
 275              		.loc 1 244 17
 276 010c 7B68     		ldr	r3, [r7, #4]
 277 010e 1B68     		ldr	r3, [r3]
 278 0110 43F00402 		orr	r2, r3, #4
 279 0114 7B68     		ldr	r3, [r7, #4]
 280 0116 1A60     		str	r2, [r3]
 281 0118 05E0     		b	.L24
 282              	.L23:
 245:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 246:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
 247:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 248:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->MCR &= ~(uint32_t)CAN_MCR_TXFP;
 283              		.loc 1 248 17
 284 011a 7B68     		ldr	r3, [r7, #4]
 285 011c 1B68     		ldr	r3, [r3]
 286 011e 23F00402 		bic	r2, r3, #4
 287 0122 7B68     		ldr	r3, [r7, #4]
 288 0124 1A60     		str	r2, [r3]
 289              	.L24:
 249:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 250:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 251:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Set the bit timing register */
 252:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->BTR = (uint32_t)((uint32_t)CAN_InitStruct->CAN_Mode << 30) | \
 290              		.loc 1 252 52
 291 0126 3B68     		ldr	r3, [r7]
 292 0128 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 293              		.loc 1 252 17
 294 012a 9A07     		lsls	r2, r3, #30
 253:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                 ((uint32_t)CAN_InitStruct->CAN_SJW << 24) | \
 295              		.loc 1 253 42
 296 012c 3B68     		ldr	r3, [r7]
 297 012e DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 298              		.loc 1 253 52
 299 0130 1B06     		lsls	r3, r3, #24
 252:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                 ((uint32_t)CAN_InitStruct->CAN_SJW << 24) | \
 300              		.loc 1 252 70
 301 0132 1A43     		orrs	r2, r2, r3
 254:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                 ((uint32_t)CAN_InitStruct->CAN_BS1 << 16) | \
 302              		.loc 1 254 42
 303 0134 3B68     		ldr	r3, [r7]
 304 0136 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 305              		.loc 1 254 52
 306 0138 1B04     		lsls	r3, r3, #16
 253:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                 ((uint32_t)CAN_InitStruct->CAN_SJW << 24) | \
 307              		.loc 1 253 59
 308 013a 1A43     		orrs	r2, r2, r3
 255:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                 ((uint32_t)CAN_InitStruct->CAN_BS2 << 20) | \
 309              		.loc 1 255 42
 310 013c 3B68     		ldr	r3, [r7]
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 11


 311 013e 5B79     		ldrb	r3, [r3, #5]	@ zero_extendqisi2
 312              		.loc 1 255 52
 313 0140 1B05     		lsls	r3, r3, #20
 254:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                 ((uint32_t)CAN_InitStruct->CAN_BS1 << 16) | \
 314              		.loc 1 254 59
 315 0142 1A43     		orrs	r2, r2, r3
 256:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                ((uint32_t)CAN_InitStruct->CAN_Prescaler - 1);
 316              		.loc 1 256 41
 317 0144 3B68     		ldr	r3, [r7]
 318 0146 1B88     		ldrh	r3, [r3]
 319              		.loc 1 256 57
 320 0148 013B     		subs	r3, r3, #1
 255:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                 ((uint32_t)CAN_InitStruct->CAN_BS2 << 20) | \
 321              		.loc 1 255 59
 322 014a 1A43     		orrs	r2, r2, r3
 252:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                 ((uint32_t)CAN_InitStruct->CAN_SJW << 24) | \
 323              		.loc 1 252 15
 324 014c 7B68     		ldr	r3, [r7, #4]
 325 014e DA61     		str	r2, [r3, #28]
 257:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 258:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Request leave initialisation */
 259:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->MCR &= ~(uint32_t)CAN_MCR_INRQ;
 326              		.loc 1 259 15
 327 0150 7B68     		ldr	r3, [r7, #4]
 328 0152 1B68     		ldr	r3, [r3]
 329 0154 23F00102 		bic	r2, r3, #1
 330 0158 7B68     		ldr	r3, [r7, #4]
 331 015a 1A60     		str	r2, [r3]
 260:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 261:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    /* Wait the acknowledge */
 262:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    wait_ack = 0;
 332              		.loc 1 262 13
 333 015c 0023     		movs	r3, #0
 334 015e BB60     		str	r3, [r7, #8]
 263:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 264:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    while (((CANx->MSR & CAN_MSR_INAK) == CAN_MSR_INAK) && (wait_ack != INAK_TIMEOUT))
 335              		.loc 1 264 10
 336 0160 02E0     		b	.L25
 337              	.L27:
 265:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    {
 266:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****      wait_ack++;
 338              		.loc 1 266 14
 339 0162 BB68     		ldr	r3, [r7, #8]
 340 0164 0133     		adds	r3, r3, #1
 341 0166 BB60     		str	r3, [r7, #8]
 342              	.L25:
 264:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    {
 343              		.loc 1 264 17
 344 0168 7B68     		ldr	r3, [r7, #4]
 345 016a 5B68     		ldr	r3, [r3, #4]
 264:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    {
 346              		.loc 1 264 23
 347 016c 03F00103 		and	r3, r3, #1
 264:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    {
 348              		.loc 1 264 10
 349 0170 012B     		cmp	r3, #1
 350 0172 04D1     		bne	.L26
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 12


 264:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    {
 351              		.loc 1 264 56 discriminator 1
 352 0174 BB68     		ldr	r3, [r7, #8]
 353 0176 4FF6FF72 		movw	r2, #65535
 354 017a 9342     		cmp	r3, r2
 355 017c F1D1     		bne	.L27
 356              	.L26:
 267:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    }
 268:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 269:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* ...and check acknowledged */
 270:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if ((CANx->MSR & CAN_MSR_INAK) == CAN_MSR_INAK)
 357              		.loc 1 270 14
 358 017e 7B68     		ldr	r3, [r7, #4]
 359 0180 5B68     		ldr	r3, [r3, #4]
 360              		.loc 1 270 20
 361 0182 03F00103 		and	r3, r3, #1
 362              		.loc 1 270 8
 363 0186 012B     		cmp	r3, #1
 364 0188 02D1     		bne	.L28
 271:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 272:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       InitStatus = CAN_InitStatus_Failed;
 365              		.loc 1 272 18
 366 018a 0023     		movs	r3, #0
 367 018c FB73     		strb	r3, [r7, #15]
 368 018e 01E0     		b	.L12
 369              	.L28:
 273:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 274:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
 275:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 276:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       InitStatus = CAN_InitStatus_Success ;
 370              		.loc 1 276 18
 371 0190 0123     		movs	r3, #1
 372 0192 FB73     		strb	r3, [r7, #15]
 373              	.L12:
 277:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 278:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 279:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 280:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* At this step, return the status of initialization */
 281:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   return InitStatus;
 374              		.loc 1 281 10
 375 0194 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 282:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 376              		.loc 1 282 1
 377 0196 1846     		mov	r0, r3
 378 0198 1437     		adds	r7, r7, #20
 379              	.LCFI8:
 380              		.cfi_def_cfa_offset 4
 381 019a BD46     		mov	sp, r7
 382              	.LCFI9:
 383              		.cfi_def_cfa_register 13
 384              		@ sp needed
 385 019c 80BC     		pop	{r7}
 386              	.LCFI10:
 387              		.cfi_restore 7
 388              		.cfi_def_cfa_offset 0
 389 019e 7047     		bx	lr
 390              		.cfi_endproc
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 13


 391              	.LFE30:
 393              		.section	.text.CAN_FilterInit,"ax",%progbits
 394              		.align	1
 395              		.global	CAN_FilterInit
 396              		.syntax unified
 397              		.thumb
 398              		.thumb_func
 400              	CAN_FilterInit:
 401              	.LFB31:
 283:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 284:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 285:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Initializes the CAN peripheral according to the specified
 286:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *         parameters in the CAN_FilterInitStruct.
 287:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CAN_FilterInitStruct: pointer to a CAN_FilterInitTypeDef
 288:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                               structure that contains the configuration 
 289:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                               information.
 290:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval None.
 291:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 292:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** void CAN_FilterInit(CAN_FilterInitTypeDef* CAN_FilterInitStruct)
 293:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 402              		.loc 1 293 1
 403              		.cfi_startproc
 404              		@ args = 0, pretend = 0, frame = 16
 405              		@ frame_needed = 1, uses_anonymous_args = 0
 406              		@ link register save eliminated.
 407 0000 90B4     		push	{r4, r7}
 408              	.LCFI11:
 409              		.cfi_def_cfa_offset 8
 410              		.cfi_offset 4, -8
 411              		.cfi_offset 7, -4
 412 0002 84B0     		sub	sp, sp, #16
 413              	.LCFI12:
 414              		.cfi_def_cfa_offset 24
 415 0004 00AF     		add	r7, sp, #0
 416              	.LCFI13:
 417              		.cfi_def_cfa_register 7
 418 0006 7860     		str	r0, [r7, #4]
 294:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint32_t filter_number_bit_pos = 0;
 419              		.loc 1 294 12
 420 0008 0023     		movs	r3, #0
 421 000a FB60     		str	r3, [r7, #12]
 295:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 296:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_FILTER_NUMBER(CAN_FilterInitStruct->CAN_FilterNumber));
 297:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_FILTER_MODE(CAN_FilterInitStruct->CAN_FilterMode));
 298:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_FILTER_SCALE(CAN_FilterInitStruct->CAN_FilterScale));
 299:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_FILTER_FIFO(CAN_FilterInitStruct->CAN_FilterFIFOAssignment));
 300:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(CAN_FilterInitStruct->CAN_FilterActivation));
 301:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 302:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   filter_number_bit_pos = ((uint32_t)1) << CAN_FilterInitStruct->CAN_FilterNumber;
 422              		.loc 1 302 64
 423 000c 7B68     		ldr	r3, [r7, #4]
 424 000e 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 425 0010 1A46     		mov	r2, r3
 426              		.loc 1 302 25
 427 0012 0123     		movs	r3, #1
 428 0014 9340     		lsls	r3, r3, r2
 429 0016 FB60     		str	r3, [r7, #12]
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 14


 303:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 304:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Initialisation mode for the filter */
 305:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN1->FMR |= FMR_FINIT;
 430              		.loc 1 305 13
 431 0018 594B     		ldr	r3, .L38
 432 001a D3F80032 		ldr	r3, [r3, #512]
 433 001e 584A     		ldr	r2, .L38
 434 0020 43F00103 		orr	r3, r3, #1
 435 0024 C2F80032 		str	r3, [r2, #512]
 306:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 307:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Filter Deactivation */
 308:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN1->FA1R &= ~(uint32_t)filter_number_bit_pos;
 436              		.loc 1 308 14
 437 0028 554B     		ldr	r3, .L38
 438 002a D3F81C22 		ldr	r2, [r3, #540]
 439              		.loc 1 308 17
 440 002e FB68     		ldr	r3, [r7, #12]
 441 0030 DB43     		mvns	r3, r3
 442              		.loc 1 308 14
 443 0032 5349     		ldr	r1, .L38
 444 0034 1340     		ands	r3, r3, r2
 445 0036 C1F81C32 		str	r3, [r1, #540]
 309:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 310:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Filter Scale */
 311:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (CAN_FilterInitStruct->CAN_FilterScale == CAN_FilterScale_16bit)
 446              		.loc 1 311 27
 447 003a 7B68     		ldr	r3, [r7, #4]
 448 003c 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 449              		.loc 1 311 6
 450 003e 002B     		cmp	r3, #0
 451 0040 29D1     		bne	.L31
 312:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 313:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* 16-bit scale for the filter */
 314:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CAN1->FS1R &= ~(uint32_t)filter_number_bit_pos;
 452              		.loc 1 314 16
 453 0042 4F4B     		ldr	r3, .L38
 454 0044 D3F80C22 		ldr	r2, [r3, #524]
 455              		.loc 1 314 19
 456 0048 FB68     		ldr	r3, [r7, #12]
 457 004a DB43     		mvns	r3, r3
 458              		.loc 1 314 16
 459 004c 4C49     		ldr	r1, .L38
 460 004e 1340     		ands	r3, r3, r2
 461 0050 C1F80C32 		str	r3, [r1, #524]
 315:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 316:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* First 16-bit identifier and First 16-bit mask */
 317:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Or First 16-bit identifier and Second 16-bit identifier */
 318:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CAN1->sFilterRegister[CAN_FilterInitStruct->CAN_FilterNumber].FR1 = 
 319:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdLow) << 16) |
 462              		.loc 1 319 50
 463 0054 7B68     		ldr	r3, [r7, #4]
 464 0056 DB88     		ldrh	r3, [r3, #6]
 465              		.loc 1 319 73
 466 0058 1B04     		lsls	r3, r3, #16
 320:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****         (0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterIdLow);
 467              		.loc 1 320 53
 468 005a 7A68     		ldr	r2, [r7, #4]
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 15


 469 005c 5288     		ldrh	r2, [r2, #2]
 470              		.loc 1 320 21
 471 005e 1446     		mov	r4, r2
 318:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdLow) << 16) |
 472              		.loc 1 318 9
 473 0060 4749     		ldr	r1, .L38
 318:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdLow) << 16) |
 474              		.loc 1 318 47
 475 0062 7A68     		ldr	r2, [r7, #4]
 476 0064 927A     		ldrb	r2, [r2, #10]	@ zero_extendqisi2
 477 0066 1046     		mov	r0, r2
 319:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****         (0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterIdLow);
 478              		.loc 1 319 80
 479 0068 43EA0402 		orr	r2, r3, r4
 318:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdLow) << 16) |
 480              		.loc 1 318 71
 481 006c 00F14803 		add	r3, r0, #72
 482 0070 41F83320 		str	r2, [r1, r3, lsl #3]
 321:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 322:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Second 16-bit identifier and Second 16-bit mask */
 323:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Or Third 16-bit identifier and Fourth 16-bit identifier */
 324:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CAN1->sFilterRegister[CAN_FilterInitStruct->CAN_FilterNumber].FR2 = 
 325:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdHigh) << 16) |
 483              		.loc 1 325 50
 484 0074 7B68     		ldr	r3, [r7, #4]
 485 0076 9B88     		ldrh	r3, [r3, #4]
 486              		.loc 1 325 74
 487 0078 1B04     		lsls	r3, r3, #16
 326:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****         (0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterIdHigh);
 488              		.loc 1 326 53
 489 007a 7A68     		ldr	r2, [r7, #4]
 490 007c 1288     		ldrh	r2, [r2]
 491              		.loc 1 326 21
 492 007e 1446     		mov	r4, r2
 324:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdHigh) << 16) |
 493              		.loc 1 324 9
 494 0080 3F49     		ldr	r1, .L38
 324:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdHigh) << 16) |
 495              		.loc 1 324 47
 496 0082 7A68     		ldr	r2, [r7, #4]
 497 0084 927A     		ldrb	r2, [r2, #10]	@ zero_extendqisi2
 498 0086 1046     		mov	r0, r2
 325:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****         (0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterIdHigh);
 499              		.loc 1 325 81
 500 0088 43EA0402 		orr	r2, r3, r4
 324:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdHigh) << 16) |
 501              		.loc 1 324 71
 502 008c 00F14803 		add	r3, r0, #72
 503 0090 DB00     		lsls	r3, r3, #3
 504 0092 0B44     		add	r3, r3, r1
 505 0094 5A60     		str	r2, [r3, #4]
 506              	.L31:
 327:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 328:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 329:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (CAN_FilterInitStruct->CAN_FilterScale == CAN_FilterScale_32bit)
 507              		.loc 1 329 27
 508 0096 7B68     		ldr	r3, [r7, #4]
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 16


 509 0098 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 510              		.loc 1 329 6
 511 009a 012B     		cmp	r3, #1
 512 009c 28D1     		bne	.L32
 330:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 331:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* 32-bit scale for the filter */
 332:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CAN1->FS1R |= filter_number_bit_pos;
 513              		.loc 1 332 16
 514 009e 384B     		ldr	r3, .L38
 515 00a0 D3F80C22 		ldr	r2, [r3, #524]
 516 00a4 3649     		ldr	r1, .L38
 517 00a6 FB68     		ldr	r3, [r7, #12]
 518 00a8 1343     		orrs	r3, r3, r2
 519 00aa C1F80C32 		str	r3, [r1, #524]
 333:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* 32-bit identifier or First 32-bit identifier */
 334:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CAN1->sFilterRegister[CAN_FilterInitStruct->CAN_FilterNumber].FR1 = 
 335:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterIdHigh) << 16) |
 520              		.loc 1 335 50
 521 00ae 7B68     		ldr	r3, [r7, #4]
 522 00b0 1B88     		ldrh	r3, [r3]
 523              		.loc 1 335 70
 524 00b2 1B04     		lsls	r3, r3, #16
 336:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****         (0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterIdLow);
 525              		.loc 1 336 53
 526 00b4 7A68     		ldr	r2, [r7, #4]
 527 00b6 5288     		ldrh	r2, [r2, #2]
 528              		.loc 1 336 21
 529 00b8 1446     		mov	r4, r2
 334:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterIdHigh) << 16) |
 530              		.loc 1 334 9
 531 00ba 3149     		ldr	r1, .L38
 334:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterIdHigh) << 16) |
 532              		.loc 1 334 47
 533 00bc 7A68     		ldr	r2, [r7, #4]
 534 00be 927A     		ldrb	r2, [r2, #10]	@ zero_extendqisi2
 535 00c0 1046     		mov	r0, r2
 335:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****         (0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterIdLow);
 536              		.loc 1 335 77
 537 00c2 43EA0402 		orr	r2, r3, r4
 334:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterIdHigh) << 16) |
 538              		.loc 1 334 71
 539 00c6 00F14803 		add	r3, r0, #72
 540 00ca 41F83320 		str	r2, [r1, r3, lsl #3]
 337:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* 32-bit mask or Second 32-bit identifier */
 338:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CAN1->sFilterRegister[CAN_FilterInitStruct->CAN_FilterNumber].FR2 = 
 339:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdHigh) << 16) |
 541              		.loc 1 339 50
 542 00ce 7B68     		ldr	r3, [r7, #4]
 543 00d0 9B88     		ldrh	r3, [r3, #4]
 544              		.loc 1 339 74
 545 00d2 1B04     		lsls	r3, r3, #16
 340:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****         (0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdLow);
 546              		.loc 1 340 53
 547 00d4 7A68     		ldr	r2, [r7, #4]
 548 00d6 D288     		ldrh	r2, [r2, #6]
 549              		.loc 1 340 21
 550 00d8 1446     		mov	r4, r2
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 17


 338:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdHigh) << 16) |
 551              		.loc 1 338 9
 552 00da 2949     		ldr	r1, .L38
 338:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdHigh) << 16) |
 553              		.loc 1 338 47
 554 00dc 7A68     		ldr	r2, [r7, #4]
 555 00de 927A     		ldrb	r2, [r2, #10]	@ zero_extendqisi2
 556 00e0 1046     		mov	r0, r2
 339:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****         (0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdLow);
 557              		.loc 1 339 81
 558 00e2 43EA0402 		orr	r2, r3, r4
 338:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdHigh) << 16) |
 559              		.loc 1 338 71
 560 00e6 00F14803 		add	r3, r0, #72
 561 00ea DB00     		lsls	r3, r3, #3
 562 00ec 0B44     		add	r3, r3, r1
 563 00ee 5A60     		str	r2, [r3, #4]
 564              	.L32:
 341:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 342:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 343:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Filter Mode */
 344:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (CAN_FilterInitStruct->CAN_FilterMode == CAN_FilterMode_IdMask)
 565              		.loc 1 344 27
 566 00f0 7B68     		ldr	r3, [r7, #4]
 567 00f2 DB7A     		ldrb	r3, [r3, #11]	@ zero_extendqisi2
 568              		.loc 1 344 6
 569 00f4 002B     		cmp	r3, #0
 570 00f6 09D1     		bne	.L33
 345:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 346:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /*Id/Mask mode for the filter*/
 347:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CAN1->FM1R &= ~(uint32_t)filter_number_bit_pos;
 571              		.loc 1 347 16
 572 00f8 214B     		ldr	r3, .L38
 573 00fa D3F80422 		ldr	r2, [r3, #516]
 574              		.loc 1 347 19
 575 00fe FB68     		ldr	r3, [r7, #12]
 576 0100 DB43     		mvns	r3, r3
 577              		.loc 1 347 16
 578 0102 1F49     		ldr	r1, .L38
 579 0104 1340     		ands	r3, r3, r2
 580 0106 C1F80432 		str	r3, [r1, #516]
 581 010a 07E0     		b	.L34
 582              	.L33:
 348:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 349:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else /* CAN_FilterInitStruct->CAN_FilterMode == CAN_FilterMode_IdList */
 350:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 351:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /*Identifier list mode for the filter*/
 352:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CAN1->FM1R |= (uint32_t)filter_number_bit_pos;
 583              		.loc 1 352 16
 584 010c 1C4B     		ldr	r3, .L38
 585 010e D3F80422 		ldr	r2, [r3, #516]
 586 0112 1B49     		ldr	r1, .L38
 587 0114 FB68     		ldr	r3, [r7, #12]
 588 0116 1343     		orrs	r3, r3, r2
 589 0118 C1F80432 		str	r3, [r1, #516]
 590              	.L34:
 353:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 18


 354:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 355:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Filter FIFO assignment */
 356:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (CAN_FilterInitStruct->CAN_FilterFIFOAssignment == CAN_Filter_FIFO0)
 591              		.loc 1 356 27
 592 011c 7B68     		ldr	r3, [r7, #4]
 593 011e 1B89     		ldrh	r3, [r3, #8]
 594              		.loc 1 356 6
 595 0120 002B     		cmp	r3, #0
 596 0122 08D1     		bne	.L35
 357:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 358:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* FIFO 0 assignation for the filter */
 359:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CAN1->FFA1R &= ~(uint32_t)filter_number_bit_pos;
 597              		.loc 1 359 17
 598 0124 164B     		ldr	r3, .L38
 599 0126 D3F81422 		ldr	r2, [r3, #532]
 600              		.loc 1 359 20
 601 012a FB68     		ldr	r3, [r7, #12]
 602 012c DB43     		mvns	r3, r3
 603              		.loc 1 359 17
 604 012e 1449     		ldr	r1, .L38
 605 0130 1340     		ands	r3, r3, r2
 606 0132 C1F81432 		str	r3, [r1, #532]
 607              	.L35:
 360:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 361:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 362:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (CAN_FilterInitStruct->CAN_FilterFIFOAssignment == CAN_Filter_FIFO1)
 608              		.loc 1 362 27
 609 0136 7B68     		ldr	r3, [r7, #4]
 610 0138 1B89     		ldrh	r3, [r3, #8]
 611              		.loc 1 362 6
 612 013a 012B     		cmp	r3, #1
 613 013c 07D1     		bne	.L36
 363:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 364:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* FIFO 1 assignation for the filter */
 365:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CAN1->FFA1R |= (uint32_t)filter_number_bit_pos;
 614              		.loc 1 365 17
 615 013e 104B     		ldr	r3, .L38
 616 0140 D3F81422 		ldr	r2, [r3, #532]
 617 0144 0E49     		ldr	r1, .L38
 618 0146 FB68     		ldr	r3, [r7, #12]
 619 0148 1343     		orrs	r3, r3, r2
 620 014a C1F81432 		str	r3, [r1, #532]
 621              	.L36:
 366:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 367:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 368:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Filter activation */
 369:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (CAN_FilterInitStruct->CAN_FilterActivation == ENABLE)
 622              		.loc 1 369 27
 623 014e 7B68     		ldr	r3, [r7, #4]
 624 0150 5B7B     		ldrb	r3, [r3, #13]	@ zero_extendqisi2
 625              		.loc 1 369 6
 626 0152 012B     		cmp	r3, #1
 627 0154 07D1     		bne	.L37
 370:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 371:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CAN1->FA1R |= filter_number_bit_pos;
 628              		.loc 1 371 16
 629 0156 0A4B     		ldr	r3, .L38
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 19


 630 0158 D3F81C22 		ldr	r2, [r3, #540]
 631 015c 0849     		ldr	r1, .L38
 632 015e FB68     		ldr	r3, [r7, #12]
 633 0160 1343     		orrs	r3, r3, r2
 634 0162 C1F81C32 		str	r3, [r1, #540]
 635              	.L37:
 372:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 373:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 374:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Leave the initialisation mode for the filter */
 375:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN1->FMR &= ~FMR_FINIT;
 636              		.loc 1 375 13
 637 0166 064B     		ldr	r3, .L38
 638 0168 D3F80032 		ldr	r3, [r3, #512]
 639 016c 044A     		ldr	r2, .L38
 640 016e 23F00103 		bic	r3, r3, #1
 641 0172 C2F80032 		str	r3, [r2, #512]
 376:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 642              		.loc 1 376 1
 643 0176 00BF     		nop
 644 0178 1037     		adds	r7, r7, #16
 645              	.LCFI14:
 646              		.cfi_def_cfa_offset 8
 647 017a BD46     		mov	sp, r7
 648              	.LCFI15:
 649              		.cfi_def_cfa_register 13
 650              		@ sp needed
 651 017c 90BC     		pop	{r4, r7}
 652              	.LCFI16:
 653              		.cfi_restore 7
 654              		.cfi_restore 4
 655              		.cfi_def_cfa_offset 0
 656 017e 7047     		bx	lr
 657              	.L39:
 658              		.align	2
 659              	.L38:
 660 0180 00640040 		.word	1073767424
 661              		.cfi_endproc
 662              	.LFE31:
 664              		.section	.text.CAN_StructInit,"ax",%progbits
 665              		.align	1
 666              		.global	CAN_StructInit
 667              		.syntax unified
 668              		.thumb
 669              		.thumb_func
 671              	CAN_StructInit:
 672              	.LFB32:
 377:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 378:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 379:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Fills each CAN_InitStruct member with its default value.
 380:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CAN_InitStruct: pointer to a CAN_InitTypeDef structure which
 381:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                         will be initialized.
 382:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval None.
 383:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 384:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** void CAN_StructInit(CAN_InitTypeDef* CAN_InitStruct)
 385:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 673              		.loc 1 385 1
 674              		.cfi_startproc
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 20


 675              		@ args = 0, pretend = 0, frame = 8
 676              		@ frame_needed = 1, uses_anonymous_args = 0
 677              		@ link register save eliminated.
 678 0000 80B4     		push	{r7}
 679              	.LCFI17:
 680              		.cfi_def_cfa_offset 4
 681              		.cfi_offset 7, -4
 682 0002 83B0     		sub	sp, sp, #12
 683              	.LCFI18:
 684              		.cfi_def_cfa_offset 16
 685 0004 00AF     		add	r7, sp, #0
 686              	.LCFI19:
 687              		.cfi_def_cfa_register 7
 688 0006 7860     		str	r0, [r7, #4]
 386:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Reset CAN init structure parameters values */
 387:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 388:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Initialize the time triggered communication mode */
 389:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN_InitStruct->CAN_TTCM = DISABLE;
 689              		.loc 1 389 28
 690 0008 7B68     		ldr	r3, [r7, #4]
 691 000a 0022     		movs	r2, #0
 692 000c 9A71     		strb	r2, [r3, #6]
 390:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 391:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Initialize the automatic bus-off management */
 392:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN_InitStruct->CAN_ABOM = DISABLE;
 693              		.loc 1 392 28
 694 000e 7B68     		ldr	r3, [r7, #4]
 695 0010 0022     		movs	r2, #0
 696 0012 DA71     		strb	r2, [r3, #7]
 393:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 394:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Initialize the automatic wake-up mode */
 395:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN_InitStruct->CAN_AWUM = DISABLE;
 697              		.loc 1 395 28
 698 0014 7B68     		ldr	r3, [r7, #4]
 699 0016 0022     		movs	r2, #0
 700 0018 1A72     		strb	r2, [r3, #8]
 396:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 397:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Initialize the no automatic retransmission */
 398:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN_InitStruct->CAN_NART = DISABLE;
 701              		.loc 1 398 28
 702 001a 7B68     		ldr	r3, [r7, #4]
 703 001c 0022     		movs	r2, #0
 704 001e 5A72     		strb	r2, [r3, #9]
 399:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 400:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Initialize the receive FIFO locked mode */
 401:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN_InitStruct->CAN_RFLM = DISABLE;
 705              		.loc 1 401 28
 706 0020 7B68     		ldr	r3, [r7, #4]
 707 0022 0022     		movs	r2, #0
 708 0024 9A72     		strb	r2, [r3, #10]
 402:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 403:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Initialize the transmit FIFO priority */
 404:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN_InitStruct->CAN_TXFP = DISABLE;
 709              		.loc 1 404 28
 710 0026 7B68     		ldr	r3, [r7, #4]
 711 0028 0022     		movs	r2, #0
 712 002a DA72     		strb	r2, [r3, #11]
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 21


 405:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 406:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Initialize the CAN_Mode member */
 407:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN_InitStruct->CAN_Mode = CAN_Mode_Normal;
 713              		.loc 1 407 28
 714 002c 7B68     		ldr	r3, [r7, #4]
 715 002e 0022     		movs	r2, #0
 716 0030 9A70     		strb	r2, [r3, #2]
 408:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 409:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Initialize the CAN_SJW member */
 410:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN_InitStruct->CAN_SJW = CAN_SJW_1tq;
 717              		.loc 1 410 27
 718 0032 7B68     		ldr	r3, [r7, #4]
 719 0034 0022     		movs	r2, #0
 720 0036 DA70     		strb	r2, [r3, #3]
 411:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 412:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Initialize the CAN_BS1 member */
 413:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN_InitStruct->CAN_BS1 = CAN_BS1_4tq;
 721              		.loc 1 413 27
 722 0038 7B68     		ldr	r3, [r7, #4]
 723 003a 0322     		movs	r2, #3
 724 003c 1A71     		strb	r2, [r3, #4]
 414:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 415:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Initialize the CAN_BS2 member */
 416:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN_InitStruct->CAN_BS2 = CAN_BS2_3tq;
 725              		.loc 1 416 27
 726 003e 7B68     		ldr	r3, [r7, #4]
 727 0040 0222     		movs	r2, #2
 728 0042 5A71     		strb	r2, [r3, #5]
 417:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 418:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Initialize the CAN_Prescaler member */
 419:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN_InitStruct->CAN_Prescaler = 1;
 729              		.loc 1 419 33
 730 0044 7B68     		ldr	r3, [r7, #4]
 731 0046 0122     		movs	r2, #1
 732 0048 1A80     		strh	r2, [r3]	@ movhi
 420:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 733              		.loc 1 420 1
 734 004a 00BF     		nop
 735 004c 0C37     		adds	r7, r7, #12
 736              	.LCFI20:
 737              		.cfi_def_cfa_offset 4
 738 004e BD46     		mov	sp, r7
 739              	.LCFI21:
 740              		.cfi_def_cfa_register 13
 741              		@ sp needed
 742 0050 80BC     		pop	{r7}
 743              	.LCFI22:
 744              		.cfi_restore 7
 745              		.cfi_def_cfa_offset 0
 746 0052 7047     		bx	lr
 747              		.cfi_endproc
 748              	.LFE32:
 750              		.section	.text.CAN_SlaveStartBank,"ax",%progbits
 751              		.align	1
 752              		.global	CAN_SlaveStartBank
 753              		.syntax unified
 754              		.thumb
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 22


 755              		.thumb_func
 757              	CAN_SlaveStartBank:
 758              	.LFB33:
 421:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 422:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 423:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Select the start bank filter for slave CAN.
 424:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @note   This function applies only to STM32 Connectivity line devices.
 425:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CAN_BankNumber: Select the start slave bank filter from 1..27.
 426:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval None.
 427:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 428:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** void CAN_SlaveStartBank(uint8_t CAN_BankNumber) 
 429:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 759              		.loc 1 429 1
 760              		.cfi_startproc
 761              		@ args = 0, pretend = 0, frame = 8
 762              		@ frame_needed = 1, uses_anonymous_args = 0
 763              		@ link register save eliminated.
 764 0000 80B4     		push	{r7}
 765              	.LCFI23:
 766              		.cfi_def_cfa_offset 4
 767              		.cfi_offset 7, -4
 768 0002 83B0     		sub	sp, sp, #12
 769              	.LCFI24:
 770              		.cfi_def_cfa_offset 16
 771 0004 00AF     		add	r7, sp, #0
 772              	.LCFI25:
 773              		.cfi_def_cfa_register 7
 774 0006 0346     		mov	r3, r0
 775 0008 FB71     		strb	r3, [r7, #7]
 430:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 431:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_BANKNUMBER(CAN_BankNumber));
 432:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 433:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Enter Initialisation mode for the filter */
 434:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN1->FMR |= FMR_FINIT;
 776              		.loc 1 434 13
 777 000a 144B     		ldr	r3, .L42
 778 000c D3F80032 		ldr	r3, [r3, #512]
 779 0010 124A     		ldr	r2, .L42
 780 0012 43F00103 		orr	r3, r3, #1
 781 0016 C2F80032 		str	r3, [r2, #512]
 435:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 436:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Select the start slave bank */
 437:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN1->FMR &= (uint32_t)0xFFFFC0F1 ;
 782              		.loc 1 437 13
 783 001a 104B     		ldr	r3, .L42
 784 001c D3F80032 		ldr	r3, [r3, #512]
 785 0020 0E4A     		ldr	r2, .L42
 786 0022 23F47C53 		bic	r3, r3, #16128
 787 0026 23F00E03 		bic	r3, r3, #14
 788 002a C2F80032 		str	r3, [r2, #512]
 438:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN1->FMR |= (uint32_t)(CAN_BankNumber)<<8;
 789              		.loc 1 438 13
 790 002e 0B4B     		ldr	r3, .L42
 791 0030 D3F80022 		ldr	r2, [r3, #512]
 792              		.loc 1 438 16
 793 0034 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 794              		.loc 1 438 42
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 23


 795 0036 1B02     		lsls	r3, r3, #8
 796              		.loc 1 438 13
 797 0038 0849     		ldr	r1, .L42
 798 003a 1343     		orrs	r3, r3, r2
 799 003c C1F80032 		str	r3, [r1, #512]
 439:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 440:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Leave Initialisation mode for the filter */
 441:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN1->FMR &= ~FMR_FINIT;
 800              		.loc 1 441 13
 801 0040 064B     		ldr	r3, .L42
 802 0042 D3F80032 		ldr	r3, [r3, #512]
 803 0046 054A     		ldr	r2, .L42
 804 0048 23F00103 		bic	r3, r3, #1
 805 004c C2F80032 		str	r3, [r2, #512]
 442:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 806              		.loc 1 442 1
 807 0050 00BF     		nop
 808 0052 0C37     		adds	r7, r7, #12
 809              	.LCFI26:
 810              		.cfi_def_cfa_offset 4
 811 0054 BD46     		mov	sp, r7
 812              	.LCFI27:
 813              		.cfi_def_cfa_register 13
 814              		@ sp needed
 815 0056 80BC     		pop	{r7}
 816              	.LCFI28:
 817              		.cfi_restore 7
 818              		.cfi_def_cfa_offset 0
 819 0058 7047     		bx	lr
 820              	.L43:
 821 005a 00BF     		.align	2
 822              	.L42:
 823 005c 00640040 		.word	1073767424
 824              		.cfi_endproc
 825              	.LFE33:
 827              		.section	.text.CAN_DBGFreeze,"ax",%progbits
 828              		.align	1
 829              		.global	CAN_DBGFreeze
 830              		.syntax unified
 831              		.thumb
 832              		.thumb_func
 834              	CAN_DBGFreeze:
 835              	.LFB34:
 443:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 444:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 445:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Enables or disables the DBG Freeze for CAN.
 446:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:     where x can be 1 or 2 to to select the CAN peripheral.
 447:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  NewState: new state of the CAN peripheral. This parameter can 
 448:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                   be: ENABLE or DISABLE.
 449:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval None.
 450:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 451:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** void CAN_DBGFreeze(CAN_TypeDef* CANx, FunctionalState NewState)
 452:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 836              		.loc 1 452 1
 837              		.cfi_startproc
 838              		@ args = 0, pretend = 0, frame = 8
 839              		@ frame_needed = 1, uses_anonymous_args = 0
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 24


 840              		@ link register save eliminated.
 841 0000 80B4     		push	{r7}
 842              	.LCFI29:
 843              		.cfi_def_cfa_offset 4
 844              		.cfi_offset 7, -4
 845 0002 83B0     		sub	sp, sp, #12
 846              	.LCFI30:
 847              		.cfi_def_cfa_offset 16
 848 0004 00AF     		add	r7, sp, #0
 849              	.LCFI31:
 850              		.cfi_def_cfa_register 7
 851 0006 7860     		str	r0, [r7, #4]
 852 0008 0B46     		mov	r3, r1
 853 000a FB70     		strb	r3, [r7, #3]
 453:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 454:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 455:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 456:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 457:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (NewState != DISABLE)
 854              		.loc 1 457 6
 855 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 856 000e 002B     		cmp	r3, #0
 857 0010 06D0     		beq	.L45
 458:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 459:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Enable Debug Freeze  */
 460:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->MCR |= MCR_DBF;
 858              		.loc 1 460 15
 859 0012 7B68     		ldr	r3, [r7, #4]
 860 0014 1B68     		ldr	r3, [r3]
 861 0016 43F48032 		orr	r2, r3, #65536
 862 001a 7B68     		ldr	r3, [r7, #4]
 863 001c 1A60     		str	r2, [r3]
 461:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 462:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else
 463:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 464:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Disable Debug Freeze */
 465:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->MCR &= ~MCR_DBF;
 466:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 467:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 864              		.loc 1 467 1
 865 001e 05E0     		b	.L47
 866              	.L45:
 465:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 867              		.loc 1 465 15
 868 0020 7B68     		ldr	r3, [r7, #4]
 869 0022 1B68     		ldr	r3, [r3]
 870 0024 23F48032 		bic	r2, r3, #65536
 871 0028 7B68     		ldr	r3, [r7, #4]
 872 002a 1A60     		str	r2, [r3]
 873              	.L47:
 874              		.loc 1 467 1
 875 002c 00BF     		nop
 876 002e 0C37     		adds	r7, r7, #12
 877              	.LCFI32:
 878              		.cfi_def_cfa_offset 4
 879 0030 BD46     		mov	sp, r7
 880              	.LCFI33:
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 25


 881              		.cfi_def_cfa_register 13
 882              		@ sp needed
 883 0032 80BC     		pop	{r7}
 884              	.LCFI34:
 885              		.cfi_restore 7
 886              		.cfi_def_cfa_offset 0
 887 0034 7047     		bx	lr
 888              		.cfi_endproc
 889              	.LFE34:
 891              		.section	.text.CAN_TTComModeCmd,"ax",%progbits
 892              		.align	1
 893              		.global	CAN_TTComModeCmd
 894              		.syntax unified
 895              		.thumb
 896              		.thumb_func
 898              	CAN_TTComModeCmd:
 899              	.LFB35:
 468:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 469:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 470:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 471:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Enables or disabes the CAN Time TriggerOperation communication mode.
 472:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:      where x can be 1 or 2 to to select the CAN peripheral.
 473:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  NewState : Mode new state , can be one of @ref FunctionalState.
 474:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @note   when enabled, Time stamp (TIME[15:0]) value is sent in the last 
 475:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *         two data bytes of the 8-byte message: TIME[7:0] in data byte 6 
 476:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *         and TIME[15:8] in data byte 7 
 477:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @note   DLC must be programmed as 8 in order Time Stamp (2 bytes) to be 
 478:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *         sent over the CAN bus.  
 479:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval None
 480:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 481:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** void CAN_TTComModeCmd(CAN_TypeDef* CANx, FunctionalState NewState)
 482:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 900              		.loc 1 482 1
 901              		.cfi_startproc
 902              		@ args = 0, pretend = 0, frame = 8
 903              		@ frame_needed = 1, uses_anonymous_args = 0
 904              		@ link register save eliminated.
 905 0000 80B4     		push	{r7}
 906              	.LCFI35:
 907              		.cfi_def_cfa_offset 4
 908              		.cfi_offset 7, -4
 909 0002 83B0     		sub	sp, sp, #12
 910              	.LCFI36:
 911              		.cfi_def_cfa_offset 16
 912 0004 00AF     		add	r7, sp, #0
 913              	.LCFI37:
 914              		.cfi_def_cfa_register 7
 915 0006 7860     		str	r0, [r7, #4]
 916 0008 0B46     		mov	r3, r1
 917 000a FB70     		strb	r3, [r7, #3]
 483:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 484:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 485:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 486:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (NewState != DISABLE)
 918              		.loc 1 486 6
 919 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 920 000e 002B     		cmp	r3, #0
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 26


 921 0010 1ED0     		beq	.L49
 487:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 488:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Enable the TTCM mode */
 489:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->MCR |= CAN_MCR_TTCM;
 922              		.loc 1 489 15
 923 0012 7B68     		ldr	r3, [r7, #4]
 924 0014 1B68     		ldr	r3, [r3]
 925 0016 43F08002 		orr	r2, r3, #128
 926 001a 7B68     		ldr	r3, [r7, #4]
 927 001c 1A60     		str	r2, [r3]
 490:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 491:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Set TGT bits */
 492:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->sTxMailBox[0].TDTR |= ((uint32_t)CAN_TDT0R_TGT);
 928              		.loc 1 492 30
 929 001e 7B68     		ldr	r3, [r7, #4]
 930 0020 D3F88431 		ldr	r3, [r3, #388]
 931 0024 43F48072 		orr	r2, r3, #256
 932 0028 7B68     		ldr	r3, [r7, #4]
 933 002a C3F88421 		str	r2, [r3, #388]
 493:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->sTxMailBox[1].TDTR |= ((uint32_t)CAN_TDT1R_TGT);
 934              		.loc 1 493 30
 935 002e 7B68     		ldr	r3, [r7, #4]
 936 0030 D3F89431 		ldr	r3, [r3, #404]
 937 0034 43F48072 		orr	r2, r3, #256
 938 0038 7B68     		ldr	r3, [r7, #4]
 939 003a C3F89421 		str	r2, [r3, #404]
 494:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->sTxMailBox[2].TDTR |= ((uint32_t)CAN_TDT2R_TGT);
 940              		.loc 1 494 30
 941 003e 7B68     		ldr	r3, [r7, #4]
 942 0040 D3F8A431 		ldr	r3, [r3, #420]
 943 0044 43F48072 		orr	r2, r3, #256
 944 0048 7B68     		ldr	r3, [r7, #4]
 945 004a C3F8A421 		str	r2, [r3, #420]
 495:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 496:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else
 497:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 498:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Disable the TTCM mode */
 499:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->MCR &= (uint32_t)(~(uint32_t)CAN_MCR_TTCM);
 500:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 501:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Reset TGT bits */
 502:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->sTxMailBox[0].TDTR &= ((uint32_t)~CAN_TDT0R_TGT);
 503:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->sTxMailBox[1].TDTR &= ((uint32_t)~CAN_TDT1R_TGT);
 504:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->sTxMailBox[2].TDTR &= ((uint32_t)~CAN_TDT2R_TGT);
 505:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 506:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 946              		.loc 1 506 1
 947 004e 1DE0     		b	.L51
 948              	.L49:
 499:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 949              		.loc 1 499 15
 950 0050 7B68     		ldr	r3, [r7, #4]
 951 0052 1B68     		ldr	r3, [r3]
 952 0054 23F08002 		bic	r2, r3, #128
 953 0058 7B68     		ldr	r3, [r7, #4]
 954 005a 1A60     		str	r2, [r3]
 502:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->sTxMailBox[1].TDTR &= ((uint32_t)~CAN_TDT1R_TGT);
 955              		.loc 1 502 30
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 27


 956 005c 7B68     		ldr	r3, [r7, #4]
 957 005e D3F88431 		ldr	r3, [r3, #388]
 958 0062 23F48072 		bic	r2, r3, #256
 959 0066 7B68     		ldr	r3, [r7, #4]
 960 0068 C3F88421 		str	r2, [r3, #388]
 503:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->sTxMailBox[2].TDTR &= ((uint32_t)~CAN_TDT2R_TGT);
 961              		.loc 1 503 30
 962 006c 7B68     		ldr	r3, [r7, #4]
 963 006e D3F89431 		ldr	r3, [r3, #404]
 964 0072 23F48072 		bic	r2, r3, #256
 965 0076 7B68     		ldr	r3, [r7, #4]
 966 0078 C3F89421 		str	r2, [r3, #404]
 504:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 967              		.loc 1 504 30
 968 007c 7B68     		ldr	r3, [r7, #4]
 969 007e D3F8A431 		ldr	r3, [r3, #420]
 970 0082 23F48072 		bic	r2, r3, #256
 971 0086 7B68     		ldr	r3, [r7, #4]
 972 0088 C3F8A421 		str	r2, [r3, #420]
 973              	.L51:
 974              		.loc 1 506 1
 975 008c 00BF     		nop
 976 008e 0C37     		adds	r7, r7, #12
 977              	.LCFI38:
 978              		.cfi_def_cfa_offset 4
 979 0090 BD46     		mov	sp, r7
 980              	.LCFI39:
 981              		.cfi_def_cfa_register 13
 982              		@ sp needed
 983 0092 80BC     		pop	{r7}
 984              	.LCFI40:
 985              		.cfi_restore 7
 986              		.cfi_def_cfa_offset 0
 987 0094 7047     		bx	lr
 988              		.cfi_endproc
 989              	.LFE35:
 991              		.section	.text.CAN_Transmit,"ax",%progbits
 992              		.align	1
 993              		.global	CAN_Transmit
 994              		.syntax unified
 995              		.thumb
 996              		.thumb_func
 998              	CAN_Transmit:
 999              	.LFB36:
 507:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 508:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Initiates the transmission of a message.
 509:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:      where x can be 1 or 2 to to select the CAN peripheral.
 510:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  TxMessage: pointer to a structure which contains CAN Id, CAN
 511:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                    DLC and CAN data.
 512:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval The number of the mailbox that is used for transmission
 513:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                    or CAN_TxStatus_NoMailBox if there is no empty mailbox.
 514:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 515:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** uint8_t CAN_Transmit(CAN_TypeDef* CANx, CanTxMsg* TxMessage)
 516:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 1000              		.loc 1 516 1
 1001              		.cfi_startproc
 1002              		@ args = 0, pretend = 0, frame = 16
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 28


 1003              		@ frame_needed = 1, uses_anonymous_args = 0
 1004              		@ link register save eliminated.
 1005 0000 80B4     		push	{r7}
 1006              	.LCFI41:
 1007              		.cfi_def_cfa_offset 4
 1008              		.cfi_offset 7, -4
 1009 0002 85B0     		sub	sp, sp, #20
 1010              	.LCFI42:
 1011              		.cfi_def_cfa_offset 24
 1012 0004 00AF     		add	r7, sp, #0
 1013              	.LCFI43:
 1014              		.cfi_def_cfa_register 7
 1015 0006 7860     		str	r0, [r7, #4]
 1016 0008 3960     		str	r1, [r7]
 517:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint8_t transmit_mailbox = 0;
 1017              		.loc 1 517 11
 1018 000a 0023     		movs	r3, #0
 1019 000c FB73     		strb	r3, [r7, #15]
 518:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 519:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 520:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_IDTYPE(TxMessage->IDE));
 521:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_RTR(TxMessage->RTR));
 522:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_DLC(TxMessage->DLC));
 523:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 524:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Select one empty transmit mailbox */
 525:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if ((CANx->TSR&CAN_TSR_TME0) == CAN_TSR_TME0)
 1020              		.loc 1 525 12
 1021 000e 7B68     		ldr	r3, [r7, #4]
 1022 0010 9B68     		ldr	r3, [r3, #8]
 1023              		.loc 1 525 17
 1024 0012 03F08063 		and	r3, r3, #67108864
 1025              		.loc 1 525 6
 1026 0016 B3F1806F 		cmp	r3, #67108864
 1027 001a 02D1     		bne	.L53
 526:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 527:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     transmit_mailbox = 0;
 1028              		.loc 1 527 22
 1029 001c 0023     		movs	r3, #0
 1030 001e FB73     		strb	r3, [r7, #15]
 1031 0020 15E0     		b	.L54
 1032              	.L53:
 528:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 529:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else if ((CANx->TSR&CAN_TSR_TME1) == CAN_TSR_TME1)
 1033              		.loc 1 529 17
 1034 0022 7B68     		ldr	r3, [r7, #4]
 1035 0024 9B68     		ldr	r3, [r3, #8]
 1036              		.loc 1 529 22
 1037 0026 03F00063 		and	r3, r3, #134217728
 1038              		.loc 1 529 11
 1039 002a B3F1006F 		cmp	r3, #134217728
 1040 002e 02D1     		bne	.L55
 530:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 531:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     transmit_mailbox = 1;
 1041              		.loc 1 531 22
 1042 0030 0123     		movs	r3, #1
 1043 0032 FB73     		strb	r3, [r7, #15]
 1044 0034 0BE0     		b	.L54
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 29


 1045              	.L55:
 532:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 533:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else if ((CANx->TSR&CAN_TSR_TME2) == CAN_TSR_TME2)
 1046              		.loc 1 533 17
 1047 0036 7B68     		ldr	r3, [r7, #4]
 1048 0038 9B68     		ldr	r3, [r3, #8]
 1049              		.loc 1 533 22
 1050 003a 03F08053 		and	r3, r3, #268435456
 1051              		.loc 1 533 11
 1052 003e B3F1805F 		cmp	r3, #268435456
 1053 0042 02D1     		bne	.L56
 534:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 535:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     transmit_mailbox = 2;
 1054              		.loc 1 535 22
 1055 0044 0223     		movs	r3, #2
 1056 0046 FB73     		strb	r3, [r7, #15]
 1057 0048 01E0     		b	.L54
 1058              	.L56:
 536:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 537:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else
 538:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 539:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     transmit_mailbox = CAN_TxStatus_NoMailBox;
 1059              		.loc 1 539 22
 1060 004a 0423     		movs	r3, #4
 1061 004c FB73     		strb	r3, [r7, #15]
 1062              	.L54:
 540:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 541:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 542:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (transmit_mailbox != CAN_TxStatus_NoMailBox)
 1063              		.loc 1 542 6
 1064 004e FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1065 0050 042B     		cmp	r3, #4
 1066 0052 00F09F80 		beq	.L57
 543:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 544:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Set up the Id */
 545:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->sTxMailBox[transmit_mailbox].TIR &= TMIDxR_TXRQ;
 1067              		.loc 1 545 44
 1068 0056 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1069 0058 7A68     		ldr	r2, [r7, #4]
 1070 005a 1833     		adds	r3, r3, #24
 1071 005c 1B01     		lsls	r3, r3, #4
 1072 005e 1344     		add	r3, r3, r2
 1073 0060 1A68     		ldr	r2, [r3]
 1074 0062 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1075 0064 02F00102 		and	r2, r2, #1
 1076 0068 7968     		ldr	r1, [r7, #4]
 1077 006a 1833     		adds	r3, r3, #24
 1078 006c 1B01     		lsls	r3, r3, #4
 1079 006e 0B44     		add	r3, r3, r1
 1080 0070 1A60     		str	r2, [r3]
 546:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if (TxMessage->IDE == CAN_Id_Standard)
 1081              		.loc 1 546 18
 1082 0072 3B68     		ldr	r3, [r7]
 1083 0074 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 1084              		.loc 1 546 8
 1085 0076 002B     		cmp	r3, #0
 1086 0078 13D1     		bne	.L58
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 30


 547:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 548:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       assert_param(IS_CAN_STDID(TxMessage->StdId));  
 549:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->sTxMailBox[transmit_mailbox].TIR |= ((TxMessage->StdId << 21) | \
 1087              		.loc 1 549 46
 1088 007a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1089 007c 7A68     		ldr	r2, [r7, #4]
 1090 007e 1833     		adds	r3, r3, #24
 1091 0080 1B01     		lsls	r3, r3, #4
 1092 0082 1344     		add	r3, r3, r2
 1093 0084 1968     		ldr	r1, [r3]
 1094              		.loc 1 549 60
 1095 0086 3B68     		ldr	r3, [r7]
 1096 0088 1B68     		ldr	r3, [r3]
 1097              		.loc 1 549 68
 1098 008a 5B05     		lsls	r3, r3, #21
 550:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                                   TxMessage->RTR);
 1099              		.loc 1 550 60
 1100 008c 3A68     		ldr	r2, [r7]
 1101 008e 527A     		ldrb	r2, [r2, #9]	@ zero_extendqisi2
 549:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                                   TxMessage->RTR);
 1102              		.loc 1 549 75
 1103 0090 1A43     		orrs	r2, r2, r3
 549:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                                   TxMessage->RTR);
 1104              		.loc 1 549 46
 1105 0092 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1106 0094 0A43     		orrs	r2, r2, r1
 1107 0096 7968     		ldr	r1, [r7, #4]
 1108 0098 1833     		adds	r3, r3, #24
 1109 009a 1B01     		lsls	r3, r3, #4
 1110 009c 0B44     		add	r3, r3, r1
 1111 009e 1A60     		str	r2, [r3]
 1112 00a0 15E0     		b	.L59
 1113              	.L58:
 551:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 552:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
 553:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 554:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       assert_param(IS_CAN_EXTID(TxMessage->ExtId));
 555:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->sTxMailBox[transmit_mailbox].TIR |= ((TxMessage->ExtId << 3) | \
 1114              		.loc 1 555 46
 1115 00a2 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1116 00a4 7A68     		ldr	r2, [r7, #4]
 1117 00a6 1833     		adds	r3, r3, #24
 1118 00a8 1B01     		lsls	r3, r3, #4
 1119 00aa 1344     		add	r3, r3, r2
 1120 00ac 1968     		ldr	r1, [r3]
 1121              		.loc 1 555 60
 1122 00ae 3B68     		ldr	r3, [r7]
 1123 00b0 5B68     		ldr	r3, [r3, #4]
 1124              		.loc 1 555 68
 1125 00b2 DB00     		lsls	r3, r3, #3
 556:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                                   TxMessage->IDE | \
 1126              		.loc 1 556 60
 1127 00b4 3A68     		ldr	r2, [r7]
 1128 00b6 127A     		ldrb	r2, [r2, #8]	@ zero_extendqisi2
 555:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                                   TxMessage->IDE | \
 1129              		.loc 1 555 74
 1130 00b8 1343     		orrs	r3, r3, r2
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 31


 557:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                                   TxMessage->RTR);
 1131              		.loc 1 557 60
 1132 00ba 3A68     		ldr	r2, [r7]
 1133 00bc 527A     		ldrb	r2, [r2, #9]	@ zero_extendqisi2
 556:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                                   TxMessage->IDE | \
 1134              		.loc 1 556 66
 1135 00be 1A43     		orrs	r2, r2, r3
 555:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                                   TxMessage->IDE | \
 1136              		.loc 1 555 46
 1137 00c0 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1138 00c2 0A43     		orrs	r2, r2, r1
 1139 00c4 7968     		ldr	r1, [r7, #4]
 1140 00c6 1833     		adds	r3, r3, #24
 1141 00c8 1B01     		lsls	r3, r3, #4
 1142 00ca 0B44     		add	r3, r3, r1
 1143 00cc 1A60     		str	r2, [r3]
 1144              	.L59:
 558:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 559:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     
 560:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Set up the DLC */
 561:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     TxMessage->DLC &= (uint8_t)0x0000000F;
 1145              		.loc 1 561 20
 1146 00ce 3B68     		ldr	r3, [r7]
 1147 00d0 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 1148 00d2 03F00F03 		and	r3, r3, #15
 1149 00d6 DAB2     		uxtb	r2, r3
 1150 00d8 3B68     		ldr	r3, [r7]
 1151 00da 9A72     		strb	r2, [r3, #10]
 562:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->sTxMailBox[transmit_mailbox].TDTR &= (uint32_t)0xFFFFFFF0;
 1152              		.loc 1 562 45
 1153 00dc FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1154 00de 7A68     		ldr	r2, [r7, #4]
 1155 00e0 1833     		adds	r3, r3, #24
 1156 00e2 1B01     		lsls	r3, r3, #4
 1157 00e4 1344     		add	r3, r3, r2
 1158 00e6 0433     		adds	r3, r3, #4
 1159 00e8 1A68     		ldr	r2, [r3]
 1160 00ea FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1161 00ec 22F00F02 		bic	r2, r2, #15
 1162 00f0 7968     		ldr	r1, [r7, #4]
 1163 00f2 1833     		adds	r3, r3, #24
 1164 00f4 1B01     		lsls	r3, r3, #4
 1165 00f6 0B44     		add	r3, r3, r1
 1166 00f8 0433     		adds	r3, r3, #4
 1167 00fa 1A60     		str	r2, [r3]
 563:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->sTxMailBox[transmit_mailbox].TDTR |= TxMessage->DLC;
 1168              		.loc 1 563 45
 1169 00fc FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1170 00fe 7A68     		ldr	r2, [r7, #4]
 1171 0100 1833     		adds	r3, r3, #24
 1172 0102 1B01     		lsls	r3, r3, #4
 1173 0104 1344     		add	r3, r3, r2
 1174 0106 0433     		adds	r3, r3, #4
 1175 0108 1A68     		ldr	r2, [r3]
 1176              		.loc 1 563 57
 1177 010a 3B68     		ldr	r3, [r7]
 1178 010c 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 32


 1179 010e 1946     		mov	r1, r3
 1180              		.loc 1 563 45
 1181 0110 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1182 0112 0A43     		orrs	r2, r2, r1
 1183 0114 7968     		ldr	r1, [r7, #4]
 1184 0116 1833     		adds	r3, r3, #24
 1185 0118 1B01     		lsls	r3, r3, #4
 1186 011a 0B44     		add	r3, r3, r1
 1187 011c 0433     		adds	r3, r3, #4
 1188 011e 1A60     		str	r2, [r3]
 564:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 565:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Set up the data field */
 566:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->sTxMailBox[transmit_mailbox].TDLR = (((uint32_t)TxMessage->Data[3] << 24) | 
 1189              		.loc 1 566 74
 1190 0120 3B68     		ldr	r3, [r7]
 1191 0122 9B7B     		ldrb	r3, [r3, #14]	@ zero_extendqisi2
 1192              		.loc 1 566 78
 1193 0124 1A06     		lsls	r2, r3, #24
 567:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[2] << 16) |
 1194              		.loc 1 567 72
 1195 0126 3B68     		ldr	r3, [r7]
 1196 0128 5B7B     		ldrb	r3, [r3, #13]	@ zero_extendqisi2
 1197              		.loc 1 567 76
 1198 012a 1B04     		lsls	r3, r3, #16
 566:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[2] << 16) |
 1199              		.loc 1 566 85
 1200 012c 1A43     		orrs	r2, r2, r3
 568:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[1] << 8) | 
 1201              		.loc 1 568 72
 1202 012e 3B68     		ldr	r3, [r7]
 1203 0130 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 1204              		.loc 1 568 76
 1205 0132 1B02     		lsls	r3, r3, #8
 567:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[2] << 16) |
 1206              		.loc 1 567 83
 1207 0134 1A43     		orrs	r2, r2, r3
 569:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[0]));
 1208              		.loc 1 569 72
 1209 0136 3B68     		ldr	r3, [r7]
 1210 0138 DB7A     		ldrb	r3, [r3, #11]	@ zero_extendqisi2
 1211              		.loc 1 569 47
 1212 013a 1946     		mov	r1, r3
 566:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[2] << 16) |
 1213              		.loc 1 566 39
 1214 013c FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 568:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[1] << 8) | 
 1215              		.loc 1 568 82
 1216 013e 0A43     		orrs	r2, r2, r1
 566:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[2] << 16) |
 1217              		.loc 1 566 45
 1218 0140 7968     		ldr	r1, [r7, #4]
 1219 0142 1B01     		lsls	r3, r3, #4
 1220 0144 0B44     		add	r3, r3, r1
 1221 0146 03F5C473 		add	r3, r3, #392
 1222 014a 1A60     		str	r2, [r3]
 570:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->sTxMailBox[transmit_mailbox].TDHR = (((uint32_t)TxMessage->Data[7] << 24) | 
 1223              		.loc 1 570 74
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 33


 1224 014c 3B68     		ldr	r3, [r7]
 1225 014e 9B7C     		ldrb	r3, [r3, #18]	@ zero_extendqisi2
 1226              		.loc 1 570 78
 1227 0150 1A06     		lsls	r2, r3, #24
 571:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[6] << 16) |
 1228              		.loc 1 571 72
 1229 0152 3B68     		ldr	r3, [r7]
 1230 0154 5B7C     		ldrb	r3, [r3, #17]	@ zero_extendqisi2
 1231              		.loc 1 571 76
 1232 0156 1B04     		lsls	r3, r3, #16
 570:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->sTxMailBox[transmit_mailbox].TDHR = (((uint32_t)TxMessage->Data[7] << 24) | 
 1233              		.loc 1 570 85
 1234 0158 1A43     		orrs	r2, r2, r3
 572:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[5] << 8) |
 1235              		.loc 1 572 72
 1236 015a 3B68     		ldr	r3, [r7]
 1237 015c 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 1238              		.loc 1 572 76
 1239 015e 1B02     		lsls	r3, r3, #8
 571:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[6] << 16) |
 1240              		.loc 1 571 83
 1241 0160 1A43     		orrs	r2, r2, r3
 573:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[4]));
 1242              		.loc 1 573 72
 1243 0162 3B68     		ldr	r3, [r7]
 1244 0164 DB7B     		ldrb	r3, [r3, #15]	@ zero_extendqisi2
 1245              		.loc 1 573 47
 1246 0166 1946     		mov	r1, r3
 570:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[6] << 16) |
 1247              		.loc 1 570 39
 1248 0168 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 572:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[5] << 8) |
 1249              		.loc 1 572 82
 1250 016a 0A43     		orrs	r2, r2, r1
 570:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[6] << 16) |
 1251              		.loc 1 570 45
 1252 016c 7968     		ldr	r1, [r7, #4]
 1253 016e 1B01     		lsls	r3, r3, #4
 1254 0170 0B44     		add	r3, r3, r1
 1255 0172 03F5C673 		add	r3, r3, #396
 1256 0176 1A60     		str	r2, [r3]
 574:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Request transmission */
 575:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->sTxMailBox[transmit_mailbox].TIR |= TMIDxR_TXRQ;
 1257              		.loc 1 575 44
 1258 0178 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1259 017a 7A68     		ldr	r2, [r7, #4]
 1260 017c 1833     		adds	r3, r3, #24
 1261 017e 1B01     		lsls	r3, r3, #4
 1262 0180 1344     		add	r3, r3, r2
 1263 0182 1A68     		ldr	r2, [r3]
 1264 0184 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1265 0186 42F00102 		orr	r2, r2, #1
 1266 018a 7968     		ldr	r1, [r7, #4]
 1267 018c 1833     		adds	r3, r3, #24
 1268 018e 1B01     		lsls	r3, r3, #4
 1269 0190 0B44     		add	r3, r3, r1
 1270 0192 1A60     		str	r2, [r3]
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 34


 1271              	.L57:
 576:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 577:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   return transmit_mailbox;
 1272              		.loc 1 577 10
 1273 0194 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 578:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 1274              		.loc 1 578 1
 1275 0196 1846     		mov	r0, r3
 1276 0198 1437     		adds	r7, r7, #20
 1277              	.LCFI44:
 1278              		.cfi_def_cfa_offset 4
 1279 019a BD46     		mov	sp, r7
 1280              	.LCFI45:
 1281              		.cfi_def_cfa_register 13
 1282              		@ sp needed
 1283 019c 80BC     		pop	{r7}
 1284              	.LCFI46:
 1285              		.cfi_restore 7
 1286              		.cfi_def_cfa_offset 0
 1287 019e 7047     		bx	lr
 1288              		.cfi_endproc
 1289              	.LFE36:
 1291              		.section	.text.CAN_TransmitStatus,"ax",%progbits
 1292              		.align	1
 1293              		.global	CAN_TransmitStatus
 1294              		.syntax unified
 1295              		.thumb
 1296              		.thumb_func
 1298              	CAN_TransmitStatus:
 1299              	.LFB37:
 579:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 580:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 581:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Checks the transmission of a message.
 582:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:            where x can be 1 or 2 to to select the 
 583:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                          CAN peripheral.
 584:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  TransmitMailbox: the number of the mailbox that is used for 
 585:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                          transmission.
 586:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval CAN_TxStatus_Ok if the CAN driver transmits the message, CAN_TxStatus_Failed 
 587:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *         in an other case.
 588:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 589:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** uint8_t CAN_TransmitStatus(CAN_TypeDef* CANx, uint8_t TransmitMailbox)
 590:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 1300              		.loc 1 590 1
 1301              		.cfi_startproc
 1302              		@ args = 0, pretend = 0, frame = 16
 1303              		@ frame_needed = 1, uses_anonymous_args = 0
 1304              		@ link register save eliminated.
 1305 0000 80B4     		push	{r7}
 1306              	.LCFI47:
 1307              		.cfi_def_cfa_offset 4
 1308              		.cfi_offset 7, -4
 1309 0002 85B0     		sub	sp, sp, #20
 1310              	.LCFI48:
 1311              		.cfi_def_cfa_offset 24
 1312 0004 00AF     		add	r7, sp, #0
 1313              	.LCFI49:
 1314              		.cfi_def_cfa_register 7
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 35


 1315 0006 7860     		str	r0, [r7, #4]
 1316 0008 0B46     		mov	r3, r1
 1317 000a FB70     		strb	r3, [r7, #3]
 591:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint32_t state = 0;
 1318              		.loc 1 591 12
 1319 000c 0023     		movs	r3, #0
 1320 000e FB60     		str	r3, [r7, #12]
 592:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 593:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 594:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 595:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_TRANSMITMAILBOX(TransmitMailbox));
 596:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****  
 597:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   switch (TransmitMailbox)
 1321              		.loc 1 597 3
 1322 0010 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1323 0012 022B     		cmp	r3, #2
 1324 0014 12D0     		beq	.L62
 1325 0016 022B     		cmp	r3, #2
 1326 0018 16DC     		bgt	.L63
 1327 001a 002B     		cmp	r3, #0
 1328 001c 02D0     		beq	.L64
 1329 001e 012B     		cmp	r3, #1
 1330 0020 06D0     		beq	.L65
 1331 0022 11E0     		b	.L63
 1332              	.L64:
 598:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 599:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     case (CAN_TXMAILBOX_0): 
 600:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       state =   CANx->TSR &  (CAN_TSR_RQCP0 | CAN_TSR_TXOK0 | CAN_TSR_TME0);
 1333              		.loc 1 600 21
 1334 0024 7B68     		ldr	r3, [r7, #4]
 1335 0026 9A68     		ldr	r2, [r3, #8]
 1336              		.loc 1 600 13
 1337 0028 304B     		ldr	r3, .L77
 1338 002a 1340     		ands	r3, r3, r2
 1339 002c FB60     		str	r3, [r7, #12]
 601:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 1340              		.loc 1 601 7
 1341 002e 0EE0     		b	.L66
 1342              	.L65:
 602:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     case (CAN_TXMAILBOX_1): 
 603:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       state =   CANx->TSR &  (CAN_TSR_RQCP1 | CAN_TSR_TXOK1 | CAN_TSR_TME1);
 1343              		.loc 1 603 21
 1344 0030 7B68     		ldr	r3, [r7, #4]
 1345 0032 9A68     		ldr	r2, [r3, #8]
 1346              		.loc 1 603 13
 1347 0034 2E4B     		ldr	r3, .L77+4
 1348 0036 1340     		ands	r3, r3, r2
 1349 0038 FB60     		str	r3, [r7, #12]
 604:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 1350              		.loc 1 604 7
 1351 003a 08E0     		b	.L66
 1352              	.L62:
 605:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     case (CAN_TXMAILBOX_2): 
 606:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       state =   CANx->TSR &  (CAN_TSR_RQCP2 | CAN_TSR_TXOK2 | CAN_TSR_TME2);
 1353              		.loc 1 606 21
 1354 003c 7B68     		ldr	r3, [r7, #4]
 1355 003e 9A68     		ldr	r2, [r3, #8]
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 36


 1356              		.loc 1 606 13
 1357 0040 2C4B     		ldr	r3, .L77+8
 1358 0042 1340     		ands	r3, r3, r2
 1359 0044 FB60     		str	r3, [r7, #12]
 607:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 1360              		.loc 1 607 7
 1361 0046 02E0     		b	.L66
 1362              	.L63:
 608:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     default:
 609:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       state = CAN_TxStatus_Failed;
 1363              		.loc 1 609 13
 1364 0048 0023     		movs	r3, #0
 1365 004a FB60     		str	r3, [r7, #12]
 610:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 1366              		.loc 1 610 7
 1367 004c 00BF     		nop
 1368              	.L66:
 611:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 612:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   switch (state)
 1369              		.loc 1 612 3
 1370 004e FB68     		ldr	r3, [r7, #12]
 1371 0050 284A     		ldr	r2, .L77+8
 1372 0052 9342     		cmp	r3, r2
 1373 0054 3DD0     		beq	.L67
 1374 0056 FB68     		ldr	r3, [r7, #12]
 1375 0058 264A     		ldr	r2, .L77+8
 1376 005a 9342     		cmp	r3, r2
 1377 005c 3CD8     		bhi	.L68
 1378 005e FB68     		ldr	r3, [r7, #12]
 1379 0060 254A     		ldr	r2, .L77+12
 1380 0062 9342     		cmp	r3, r2
 1381 0064 2CD0     		beq	.L69
 1382 0066 FB68     		ldr	r3, [r7, #12]
 1383 0068 234A     		ldr	r2, .L77+12
 1384 006a 9342     		cmp	r3, r2
 1385 006c 34D8     		bhi	.L68
 1386 006e FB68     		ldr	r3, [r7, #12]
 1387 0070 1F4A     		ldr	r2, .L77+4
 1388 0072 9342     		cmp	r3, r2
 1389 0074 2AD0     		beq	.L70
 1390 0076 FB68     		ldr	r3, [r7, #12]
 1391 0078 1D4A     		ldr	r2, .L77+4
 1392 007a 9342     		cmp	r3, r2
 1393 007c 2CD8     		bhi	.L68
 1394 007e FB68     		ldr	r3, [r7, #12]
 1395 0080 1E4A     		ldr	r2, .L77+16
 1396 0082 9342     		cmp	r3, r2
 1397 0084 19D0     		beq	.L71
 1398 0086 FB68     		ldr	r3, [r7, #12]
 1399 0088 1C4A     		ldr	r2, .L77+16
 1400 008a 9342     		cmp	r3, r2
 1401 008c 24D8     		bhi	.L68
 1402 008e FB68     		ldr	r3, [r7, #12]
 1403 0090 164A     		ldr	r2, .L77
 1404 0092 9342     		cmp	r3, r2
 1405 0094 17D0     		beq	.L72
 1406 0096 FB68     		ldr	r3, [r7, #12]
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 37


 1407 0098 144A     		ldr	r2, .L77
 1408 009a 9342     		cmp	r3, r2
 1409 009c 1CD8     		bhi	.L68
 1410 009e FB68     		ldr	r3, [r7, #12]
 1411 00a0 002B     		cmp	r3, #0
 1412 00a2 04D0     		beq	.L73
 1413 00a4 FB68     		ldr	r3, [r7, #12]
 1414 00a6 164A     		ldr	r2, .L77+20
 1415 00a8 9342     		cmp	r3, r2
 1416 00aa 03D0     		beq	.L74
 1417 00ac 14E0     		b	.L68
 1418              	.L73:
 613:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 614:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* transmit pending  */
 615:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     case (0x0): state = CAN_TxStatus_Pending;
 1419              		.loc 1 615 23
 1420 00ae 0223     		movs	r3, #2
 1421 00b0 FB60     		str	r3, [r7, #12]
 616:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 1422              		.loc 1 616 7
 1423 00b2 14E0     		b	.L75
 1424              	.L74:
 617:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* transmit failed  */
 618:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****      case (CAN_TSR_RQCP0 | CAN_TSR_TME0): state = CAN_TxStatus_Failed;
 1425              		.loc 1 618 49
 1426 00b4 0023     		movs	r3, #0
 1427 00b6 FB60     		str	r3, [r7, #12]
 619:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 1428              		.loc 1 619 7
 1429 00b8 11E0     		b	.L75
 1430              	.L71:
 620:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****      case (CAN_TSR_RQCP1 | CAN_TSR_TME1): state = CAN_TxStatus_Failed;
 1431              		.loc 1 620 49
 1432 00ba 0023     		movs	r3, #0
 1433 00bc FB60     		str	r3, [r7, #12]
 621:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 1434              		.loc 1 621 7
 1435 00be 0EE0     		b	.L75
 1436              	.L69:
 622:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****      case (CAN_TSR_RQCP2 | CAN_TSR_TME2): state = CAN_TxStatus_Failed;
 1437              		.loc 1 622 49
 1438 00c0 0023     		movs	r3, #0
 1439 00c2 FB60     		str	r3, [r7, #12]
 623:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 1440              		.loc 1 623 7
 1441 00c4 0BE0     		b	.L75
 1442              	.L72:
 624:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* transmit succeeded  */
 625:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     case (CAN_TSR_RQCP0 | CAN_TSR_TXOK0 | CAN_TSR_TME0):state = CAN_TxStatus_Ok;
 1443              		.loc 1 625 63
 1444 00c6 0123     		movs	r3, #1
 1445 00c8 FB60     		str	r3, [r7, #12]
 626:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 1446              		.loc 1 626 7
 1447 00ca 08E0     		b	.L75
 1448              	.L70:
 627:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     case (CAN_TSR_RQCP1 | CAN_TSR_TXOK1 | CAN_TSR_TME1):state = CAN_TxStatus_Ok;
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 38


 1449              		.loc 1 627 63
 1450 00cc 0123     		movs	r3, #1
 1451 00ce FB60     		str	r3, [r7, #12]
 628:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 1452              		.loc 1 628 7
 1453 00d0 05E0     		b	.L75
 1454              	.L67:
 629:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     case (CAN_TSR_RQCP2 | CAN_TSR_TXOK2 | CAN_TSR_TME2):state = CAN_TxStatus_Ok;
 1455              		.loc 1 629 63
 1456 00d2 0123     		movs	r3, #1
 1457 00d4 FB60     		str	r3, [r7, #12]
 630:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 1458              		.loc 1 630 7
 1459 00d6 02E0     		b	.L75
 1460              	.L68:
 631:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     default: state = CAN_TxStatus_Failed;
 1461              		.loc 1 631 20
 1462 00d8 0023     		movs	r3, #0
 1463 00da FB60     		str	r3, [r7, #12]
 632:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 1464              		.loc 1 632 7
 1465 00dc 00BF     		nop
 1466              	.L75:
 633:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 634:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   return (uint8_t) state;
 1467              		.loc 1 634 10
 1468 00de FB68     		ldr	r3, [r7, #12]
 1469 00e0 DBB2     		uxtb	r3, r3
 635:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 1470              		.loc 1 635 1
 1471 00e2 1846     		mov	r0, r3
 1472 00e4 1437     		adds	r7, r7, #20
 1473              	.LCFI50:
 1474              		.cfi_def_cfa_offset 4
 1475 00e6 BD46     		mov	sp, r7
 1476              	.LCFI51:
 1477              		.cfi_def_cfa_register 13
 1478              		@ sp needed
 1479 00e8 80BC     		pop	{r7}
 1480              	.LCFI52:
 1481              		.cfi_restore 7
 1482              		.cfi_def_cfa_offset 0
 1483 00ea 7047     		bx	lr
 1484              	.L78:
 1485              		.align	2
 1486              	.L77:
 1487 00ec 03000004 		.word	67108867
 1488 00f0 00030008 		.word	134218496
 1489 00f4 00000310 		.word	268632064
 1490 00f8 00000110 		.word	268500992
 1491 00fc 00010008 		.word	134217984
 1492 0100 01000004 		.word	67108865
 1493              		.cfi_endproc
 1494              	.LFE37:
 1496              		.section	.text.CAN_CancelTransmit,"ax",%progbits
 1497              		.align	1
 1498              		.global	CAN_CancelTransmit
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 39


 1499              		.syntax unified
 1500              		.thumb
 1501              		.thumb_func
 1503              	CAN_CancelTransmit:
 1504              	.LFB38:
 636:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 637:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 638:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Cancels a transmit request.
 639:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:     where x can be 1 or 2 to to select the CAN peripheral. 
 640:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  Mailbox:  Mailbox number.
 641:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval None.
 642:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 643:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** void CAN_CancelTransmit(CAN_TypeDef* CANx, uint8_t Mailbox)
 644:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 1505              		.loc 1 644 1
 1506              		.cfi_startproc
 1507              		@ args = 0, pretend = 0, frame = 8
 1508              		@ frame_needed = 1, uses_anonymous_args = 0
 1509              		@ link register save eliminated.
 1510 0000 80B4     		push	{r7}
 1511              	.LCFI53:
 1512              		.cfi_def_cfa_offset 4
 1513              		.cfi_offset 7, -4
 1514 0002 83B0     		sub	sp, sp, #12
 1515              	.LCFI54:
 1516              		.cfi_def_cfa_offset 16
 1517 0004 00AF     		add	r7, sp, #0
 1518              	.LCFI55:
 1519              		.cfi_def_cfa_register 7
 1520 0006 7860     		str	r0, [r7, #4]
 1521 0008 0B46     		mov	r3, r1
 1522 000a FB70     		strb	r3, [r7, #3]
 645:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 646:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 647:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_TRANSMITMAILBOX(Mailbox));
 648:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* abort transmission */
 649:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   switch (Mailbox)
 1523              		.loc 1 649 3
 1524 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1525 000e 022B     		cmp	r3, #2
 1526 0010 14D0     		beq	.L80
 1527 0012 022B     		cmp	r3, #2
 1528 0014 19DC     		bgt	.L85
 1529 0016 002B     		cmp	r3, #0
 1530 0018 02D0     		beq	.L82
 1531 001a 012B     		cmp	r3, #1
 1532 001c 07D0     		beq	.L83
 650:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 651:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     case (CAN_TXMAILBOX_0): CANx->TSR |= CAN_TSR_ABRQ0;
 652:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 653:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     case (CAN_TXMAILBOX_1): CANx->TSR |= CAN_TSR_ABRQ1;
 654:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 655:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     case (CAN_TXMAILBOX_2): CANx->TSR |= CAN_TSR_ABRQ2;
 656:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 657:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     default:
 658:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 1533              		.loc 1 658 7
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 40


 1534 001e 14E0     		b	.L85
 1535              	.L82:
 651:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 1536              		.loc 1 651 39
 1537 0020 7B68     		ldr	r3, [r7, #4]
 1538 0022 9B68     		ldr	r3, [r3, #8]
 1539 0024 43F08002 		orr	r2, r3, #128
 1540 0028 7B68     		ldr	r3, [r7, #4]
 1541 002a 9A60     		str	r2, [r3, #8]
 652:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     case (CAN_TXMAILBOX_1): CANx->TSR |= CAN_TSR_ABRQ1;
 1542              		.loc 1 652 7
 1543 002c 0EE0     		b	.L84
 1544              	.L83:
 653:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 1545              		.loc 1 653 39
 1546 002e 7B68     		ldr	r3, [r7, #4]
 1547 0030 9B68     		ldr	r3, [r3, #8]
 1548 0032 43F40042 		orr	r2, r3, #32768
 1549 0036 7B68     		ldr	r3, [r7, #4]
 1550 0038 9A60     		str	r2, [r3, #8]
 654:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     case (CAN_TXMAILBOX_2): CANx->TSR |= CAN_TSR_ABRQ2;
 1551              		.loc 1 654 7
 1552 003a 07E0     		b	.L84
 1553              	.L80:
 655:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 1554              		.loc 1 655 39
 1555 003c 7B68     		ldr	r3, [r7, #4]
 1556 003e 9B68     		ldr	r3, [r3, #8]
 1557 0040 43F40002 		orr	r2, r3, #8388608
 1558 0044 7B68     		ldr	r3, [r7, #4]
 1559 0046 9A60     		str	r2, [r3, #8]
 656:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     default:
 1560              		.loc 1 656 7
 1561 0048 00E0     		b	.L84
 1562              	.L85:
 1563              		.loc 1 658 7
 1564 004a 00BF     		nop
 1565              	.L84:
 659:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 660:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 1566              		.loc 1 660 1
 1567 004c 00BF     		nop
 1568 004e 0C37     		adds	r7, r7, #12
 1569              	.LCFI56:
 1570              		.cfi_def_cfa_offset 4
 1571 0050 BD46     		mov	sp, r7
 1572              	.LCFI57:
 1573              		.cfi_def_cfa_register 13
 1574              		@ sp needed
 1575 0052 80BC     		pop	{r7}
 1576              	.LCFI58:
 1577              		.cfi_restore 7
 1578              		.cfi_def_cfa_offset 0
 1579 0054 7047     		bx	lr
 1580              		.cfi_endproc
 1581              	.LFE38:
 1583              		.section	.text.CAN_Receive,"ax",%progbits
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 41


 1584              		.align	1
 1585              		.global	CAN_Receive
 1586              		.syntax unified
 1587              		.thumb
 1588              		.thumb_func
 1590              	CAN_Receive:
 1591              	.LFB39:
 661:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 662:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 663:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 664:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Receives a message.
 665:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:       where x can be 1 or 2 to to select the CAN peripheral.
 666:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  FIFONumber: Receive FIFO number, CAN_FIFO0 or CAN_FIFO1.
 667:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  RxMessage:  pointer to a structure receive message which contains 
 668:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                     CAN Id, CAN DLC, CAN datas and FMI number.
 669:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval None.
 670:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 671:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** void CAN_Receive(CAN_TypeDef* CANx, uint8_t FIFONumber, CanRxMsg* RxMessage)
 672:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 1592              		.loc 1 672 1
 1593              		.cfi_startproc
 1594              		@ args = 0, pretend = 0, frame = 16
 1595              		@ frame_needed = 1, uses_anonymous_args = 0
 1596              		@ link register save eliminated.
 1597 0000 80B4     		push	{r7}
 1598              	.LCFI59:
 1599              		.cfi_def_cfa_offset 4
 1600              		.cfi_offset 7, -4
 1601 0002 85B0     		sub	sp, sp, #20
 1602              	.LCFI60:
 1603              		.cfi_def_cfa_offset 24
 1604 0004 00AF     		add	r7, sp, #0
 1605              	.LCFI61:
 1606              		.cfi_def_cfa_register 7
 1607 0006 F860     		str	r0, [r7, #12]
 1608 0008 0B46     		mov	r3, r1
 1609 000a 7A60     		str	r2, [r7, #4]
 1610 000c FB72     		strb	r3, [r7, #11]
 673:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 674:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 675:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_FIFO(FIFONumber));
 676:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Get the Id */
 677:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   RxMessage->IDE = (uint8_t)0x04 & CANx->sFIFOMailBox[FIFONumber].RIR;
 1611              		.loc 1 677 66
 1612 000e FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1613 0010 FA68     		ldr	r2, [r7, #12]
 1614 0012 1B33     		adds	r3, r3, #27
 1615 0014 1B01     		lsls	r3, r3, #4
 1616 0016 1344     		add	r3, r3, r2
 1617 0018 1B68     		ldr	r3, [r3]
 1618              		.loc 1 677 34
 1619 001a DBB2     		uxtb	r3, r3
 1620 001c 03F00403 		and	r3, r3, #4
 1621 0020 DAB2     		uxtb	r2, r3
 1622              		.loc 1 677 18
 1623 0022 7B68     		ldr	r3, [r7, #4]
 1624 0024 1A72     		strb	r2, [r3, #8]
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 42


 678:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (RxMessage->IDE == CAN_Id_Standard)
 1625              		.loc 1 678 16
 1626 0026 7B68     		ldr	r3, [r7, #4]
 1627 0028 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 1628              		.loc 1 678 6
 1629 002a 002B     		cmp	r3, #0
 1630 002c 0BD1     		bne	.L87
 679:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 680:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     RxMessage->StdId = (uint32_t)0x000007FF & (CANx->sFIFOMailBox[FIFONumber].RIR >> 21);
 1631              		.loc 1 680 78
 1632 002e FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1633 0030 FA68     		ldr	r2, [r7, #12]
 1634 0032 1B33     		adds	r3, r3, #27
 1635 0034 1B01     		lsls	r3, r3, #4
 1636 0036 1344     		add	r3, r3, r2
 1637 0038 1B68     		ldr	r3, [r3]
 1638              		.loc 1 680 83
 1639 003a 5B0D     		lsrs	r3, r3, #21
 1640              		.loc 1 680 45
 1641 003c C3F30A02 		ubfx	r2, r3, #0, #11
 1642              		.loc 1 680 22
 1643 0040 7B68     		ldr	r3, [r7, #4]
 1644 0042 1A60     		str	r2, [r3]
 1645 0044 0AE0     		b	.L88
 1646              	.L87:
 681:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 682:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else
 683:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 684:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     RxMessage->ExtId = (uint32_t)0x1FFFFFFF & (CANx->sFIFOMailBox[FIFONumber].RIR >> 3);
 1647              		.loc 1 684 78
 1648 0046 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1649 0048 FA68     		ldr	r2, [r7, #12]
 1650 004a 1B33     		adds	r3, r3, #27
 1651 004c 1B01     		lsls	r3, r3, #4
 1652 004e 1344     		add	r3, r3, r2
 1653 0050 1B68     		ldr	r3, [r3]
 1654              		.loc 1 684 83
 1655 0052 DB08     		lsrs	r3, r3, #3
 1656              		.loc 1 684 45
 1657 0054 23F06042 		bic	r2, r3, #-536870912
 1658              		.loc 1 684 22
 1659 0058 7B68     		ldr	r3, [r7, #4]
 1660 005a 5A60     		str	r2, [r3, #4]
 1661              	.L88:
 685:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 686:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 687:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   RxMessage->RTR = (uint8_t)0x02 & CANx->sFIFOMailBox[FIFONumber].RIR;
 1662              		.loc 1 687 66
 1663 005c FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1664 005e FA68     		ldr	r2, [r7, #12]
 1665 0060 1B33     		adds	r3, r3, #27
 1666 0062 1B01     		lsls	r3, r3, #4
 1667 0064 1344     		add	r3, r3, r2
 1668 0066 1B68     		ldr	r3, [r3]
 1669              		.loc 1 687 34
 1670 0068 DBB2     		uxtb	r3, r3
 1671 006a 03F00203 		and	r3, r3, #2
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 43


 1672 006e DAB2     		uxtb	r2, r3
 1673              		.loc 1 687 18
 1674 0070 7B68     		ldr	r3, [r7, #4]
 1675 0072 5A72     		strb	r2, [r3, #9]
 688:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Get the DLC */
 689:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   RxMessage->DLC = (uint8_t)0x0F & CANx->sFIFOMailBox[FIFONumber].RDTR;
 1676              		.loc 1 689 66
 1677 0074 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1678 0076 FA68     		ldr	r2, [r7, #12]
 1679 0078 1B33     		adds	r3, r3, #27
 1680 007a 1B01     		lsls	r3, r3, #4
 1681 007c 1344     		add	r3, r3, r2
 1682 007e 0433     		adds	r3, r3, #4
 1683 0080 1B68     		ldr	r3, [r3]
 1684              		.loc 1 689 34
 1685 0082 DBB2     		uxtb	r3, r3
 1686 0084 03F00F03 		and	r3, r3, #15
 1687 0088 DAB2     		uxtb	r2, r3
 1688              		.loc 1 689 18
 1689 008a 7B68     		ldr	r3, [r7, #4]
 1690 008c 9A72     		strb	r2, [r3, #10]
 690:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Get the FMI */
 691:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   RxMessage->FMI = (uint8_t)0xFF & (CANx->sFIFOMailBox[FIFONumber].RDTR >> 8);
 1691              		.loc 1 691 67
 1692 008e FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1693 0090 FA68     		ldr	r2, [r7, #12]
 1694 0092 1B33     		adds	r3, r3, #27
 1695 0094 1B01     		lsls	r3, r3, #4
 1696 0096 1344     		add	r3, r3, r2
 1697 0098 0433     		adds	r3, r3, #4
 1698 009a 1B68     		ldr	r3, [r3]
 1699              		.loc 1 691 73
 1700 009c 1B0A     		lsrs	r3, r3, #8
 1701              		.loc 1 691 18
 1702 009e DAB2     		uxtb	r2, r3
 1703 00a0 7B68     		ldr	r3, [r7, #4]
 1704 00a2 DA74     		strb	r2, [r3, #19]
 692:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Get the data field */
 693:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   RxMessage->Data[0] = (uint8_t)0xFF & CANx->sFIFOMailBox[FIFONumber].RDLR;
 1705              		.loc 1 693 70
 1706 00a4 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1707 00a6 FA68     		ldr	r2, [r7, #12]
 1708 00a8 1B01     		lsls	r3, r3, #4
 1709 00aa 1344     		add	r3, r3, r2
 1710 00ac 03F5DC73 		add	r3, r3, #440
 1711 00b0 1B68     		ldr	r3, [r3]
 1712              		.loc 1 693 22
 1713 00b2 DAB2     		uxtb	r2, r3
 1714 00b4 7B68     		ldr	r3, [r7, #4]
 1715 00b6 DA72     		strb	r2, [r3, #11]
 694:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   RxMessage->Data[1] = (uint8_t)0xFF & (CANx->sFIFOMailBox[FIFONumber].RDLR >> 8);
 1716              		.loc 1 694 71
 1717 00b8 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1718 00ba FA68     		ldr	r2, [r7, #12]
 1719 00bc 1B01     		lsls	r3, r3, #4
 1720 00be 1344     		add	r3, r3, r2
 1721 00c0 03F5DC73 		add	r3, r3, #440
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 44


 1722 00c4 1B68     		ldr	r3, [r3]
 1723              		.loc 1 694 77
 1724 00c6 1B0A     		lsrs	r3, r3, #8
 1725              		.loc 1 694 22
 1726 00c8 DAB2     		uxtb	r2, r3
 1727 00ca 7B68     		ldr	r3, [r7, #4]
 1728 00cc 1A73     		strb	r2, [r3, #12]
 695:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   RxMessage->Data[2] = (uint8_t)0xFF & (CANx->sFIFOMailBox[FIFONumber].RDLR >> 16);
 1729              		.loc 1 695 71
 1730 00ce FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1731 00d0 FA68     		ldr	r2, [r7, #12]
 1732 00d2 1B01     		lsls	r3, r3, #4
 1733 00d4 1344     		add	r3, r3, r2
 1734 00d6 03F5DC73 		add	r3, r3, #440
 1735 00da 1B68     		ldr	r3, [r3]
 1736              		.loc 1 695 77
 1737 00dc 1B0C     		lsrs	r3, r3, #16
 1738              		.loc 1 695 22
 1739 00de DAB2     		uxtb	r2, r3
 1740 00e0 7B68     		ldr	r3, [r7, #4]
 1741 00e2 5A73     		strb	r2, [r3, #13]
 696:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   RxMessage->Data[3] = (uint8_t)0xFF & (CANx->sFIFOMailBox[FIFONumber].RDLR >> 24);
 1742              		.loc 1 696 71
 1743 00e4 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1744 00e6 FA68     		ldr	r2, [r7, #12]
 1745 00e8 1B01     		lsls	r3, r3, #4
 1746 00ea 1344     		add	r3, r3, r2
 1747 00ec 03F5DC73 		add	r3, r3, #440
 1748 00f0 1B68     		ldr	r3, [r3]
 1749              		.loc 1 696 77
 1750 00f2 1B0E     		lsrs	r3, r3, #24
 1751              		.loc 1 696 22
 1752 00f4 DAB2     		uxtb	r2, r3
 1753 00f6 7B68     		ldr	r3, [r7, #4]
 1754 00f8 9A73     		strb	r2, [r3, #14]
 697:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   RxMessage->Data[4] = (uint8_t)0xFF & CANx->sFIFOMailBox[FIFONumber].RDHR;
 1755              		.loc 1 697 70
 1756 00fa FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1757 00fc FA68     		ldr	r2, [r7, #12]
 1758 00fe 1B01     		lsls	r3, r3, #4
 1759 0100 1344     		add	r3, r3, r2
 1760 0102 03F5DE73 		add	r3, r3, #444
 1761 0106 1B68     		ldr	r3, [r3]
 1762              		.loc 1 697 22
 1763 0108 DAB2     		uxtb	r2, r3
 1764 010a 7B68     		ldr	r3, [r7, #4]
 1765 010c DA73     		strb	r2, [r3, #15]
 698:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   RxMessage->Data[5] = (uint8_t)0xFF & (CANx->sFIFOMailBox[FIFONumber].RDHR >> 8);
 1766              		.loc 1 698 71
 1767 010e FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1768 0110 FA68     		ldr	r2, [r7, #12]
 1769 0112 1B01     		lsls	r3, r3, #4
 1770 0114 1344     		add	r3, r3, r2
 1771 0116 03F5DE73 		add	r3, r3, #444
 1772 011a 1B68     		ldr	r3, [r3]
 1773              		.loc 1 698 77
 1774 011c 1B0A     		lsrs	r3, r3, #8
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 45


 1775              		.loc 1 698 22
 1776 011e DAB2     		uxtb	r2, r3
 1777 0120 7B68     		ldr	r3, [r7, #4]
 1778 0122 1A74     		strb	r2, [r3, #16]
 699:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   RxMessage->Data[6] = (uint8_t)0xFF & (CANx->sFIFOMailBox[FIFONumber].RDHR >> 16);
 1779              		.loc 1 699 71
 1780 0124 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1781 0126 FA68     		ldr	r2, [r7, #12]
 1782 0128 1B01     		lsls	r3, r3, #4
 1783 012a 1344     		add	r3, r3, r2
 1784 012c 03F5DE73 		add	r3, r3, #444
 1785 0130 1B68     		ldr	r3, [r3]
 1786              		.loc 1 699 77
 1787 0132 1B0C     		lsrs	r3, r3, #16
 1788              		.loc 1 699 22
 1789 0134 DAB2     		uxtb	r2, r3
 1790 0136 7B68     		ldr	r3, [r7, #4]
 1791 0138 5A74     		strb	r2, [r3, #17]
 700:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   RxMessage->Data[7] = (uint8_t)0xFF & (CANx->sFIFOMailBox[FIFONumber].RDHR >> 24);
 1792              		.loc 1 700 71
 1793 013a FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1794 013c FA68     		ldr	r2, [r7, #12]
 1795 013e 1B01     		lsls	r3, r3, #4
 1796 0140 1344     		add	r3, r3, r2
 1797 0142 03F5DE73 		add	r3, r3, #444
 1798 0146 1B68     		ldr	r3, [r3]
 1799              		.loc 1 700 77
 1800 0148 1B0E     		lsrs	r3, r3, #24
 1801              		.loc 1 700 22
 1802 014a DAB2     		uxtb	r2, r3
 1803 014c 7B68     		ldr	r3, [r7, #4]
 1804 014e 9A74     		strb	r2, [r3, #18]
 701:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Release the FIFO */
 702:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Release FIFO0 */
 703:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (FIFONumber == CAN_FIFO0)
 1805              		.loc 1 703 6
 1806 0150 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1807 0152 002B     		cmp	r3, #0
 1808 0154 06D1     		bne	.L89
 704:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 705:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->RF0R |= CAN_RF0R_RFOM0;
 1809              		.loc 1 705 16
 1810 0156 FB68     		ldr	r3, [r7, #12]
 1811 0158 DB68     		ldr	r3, [r3, #12]
 1812 015a 43F02002 		orr	r2, r3, #32
 1813 015e FB68     		ldr	r3, [r7, #12]
 1814 0160 DA60     		str	r2, [r3, #12]
 706:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 707:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Release FIFO1 */
 708:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else /* FIFONumber == CAN_FIFO1 */
 709:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 710:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->RF1R |= CAN_RF1R_RFOM1;
 711:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 712:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 1815              		.loc 1 712 1
 1816 0162 05E0     		b	.L91
 1817              	.L89:
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 46


 710:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 1818              		.loc 1 710 16
 1819 0164 FB68     		ldr	r3, [r7, #12]
 1820 0166 1B69     		ldr	r3, [r3, #16]
 1821 0168 43F02002 		orr	r2, r3, #32
 1822 016c FB68     		ldr	r3, [r7, #12]
 1823 016e 1A61     		str	r2, [r3, #16]
 1824              	.L91:
 1825              		.loc 1 712 1
 1826 0170 00BF     		nop
 1827 0172 1437     		adds	r7, r7, #20
 1828              	.LCFI62:
 1829              		.cfi_def_cfa_offset 4
 1830 0174 BD46     		mov	sp, r7
 1831              	.LCFI63:
 1832              		.cfi_def_cfa_register 13
 1833              		@ sp needed
 1834 0176 80BC     		pop	{r7}
 1835              	.LCFI64:
 1836              		.cfi_restore 7
 1837              		.cfi_def_cfa_offset 0
 1838 0178 7047     		bx	lr
 1839              		.cfi_endproc
 1840              	.LFE39:
 1842              		.section	.text.CAN_FIFORelease,"ax",%progbits
 1843              		.align	1
 1844              		.global	CAN_FIFORelease
 1845              		.syntax unified
 1846              		.thumb
 1847              		.thumb_func
 1849              	CAN_FIFORelease:
 1850              	.LFB40:
 713:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 714:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 715:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Releases the specified FIFO.
 716:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:       where x can be 1 or 2 to to select the CAN peripheral. 
 717:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  FIFONumber: FIFO to release, CAN_FIFO0 or CAN_FIFO1.
 718:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval None.
 719:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 720:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** void CAN_FIFORelease(CAN_TypeDef* CANx, uint8_t FIFONumber)
 721:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 1851              		.loc 1 721 1
 1852              		.cfi_startproc
 1853              		@ args = 0, pretend = 0, frame = 8
 1854              		@ frame_needed = 1, uses_anonymous_args = 0
 1855              		@ link register save eliminated.
 1856 0000 80B4     		push	{r7}
 1857              	.LCFI65:
 1858              		.cfi_def_cfa_offset 4
 1859              		.cfi_offset 7, -4
 1860 0002 83B0     		sub	sp, sp, #12
 1861              	.LCFI66:
 1862              		.cfi_def_cfa_offset 16
 1863 0004 00AF     		add	r7, sp, #0
 1864              	.LCFI67:
 1865              		.cfi_def_cfa_register 7
 1866 0006 7860     		str	r0, [r7, #4]
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 47


 1867 0008 0B46     		mov	r3, r1
 1868 000a FB70     		strb	r3, [r7, #3]
 722:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 723:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 724:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_FIFO(FIFONumber));
 725:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Release FIFO0 */
 726:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (FIFONumber == CAN_FIFO0)
 1869              		.loc 1 726 6
 1870 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1871 000e 002B     		cmp	r3, #0
 1872 0010 06D1     		bne	.L93
 727:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 728:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->RF0R |= CAN_RF0R_RFOM0;
 1873              		.loc 1 728 16
 1874 0012 7B68     		ldr	r3, [r7, #4]
 1875 0014 DB68     		ldr	r3, [r3, #12]
 1876 0016 43F02002 		orr	r2, r3, #32
 1877 001a 7B68     		ldr	r3, [r7, #4]
 1878 001c DA60     		str	r2, [r3, #12]
 729:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 730:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Release FIFO1 */
 731:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else /* FIFONumber == CAN_FIFO1 */
 732:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 733:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->RF1R |= CAN_RF1R_RFOM1;
 734:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 735:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 1879              		.loc 1 735 1
 1880 001e 05E0     		b	.L95
 1881              	.L93:
 733:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 1882              		.loc 1 733 16
 1883 0020 7B68     		ldr	r3, [r7, #4]
 1884 0022 1B69     		ldr	r3, [r3, #16]
 1885 0024 43F02002 		orr	r2, r3, #32
 1886 0028 7B68     		ldr	r3, [r7, #4]
 1887 002a 1A61     		str	r2, [r3, #16]
 1888              	.L95:
 1889              		.loc 1 735 1
 1890 002c 00BF     		nop
 1891 002e 0C37     		adds	r7, r7, #12
 1892              	.LCFI68:
 1893              		.cfi_def_cfa_offset 4
 1894 0030 BD46     		mov	sp, r7
 1895              	.LCFI69:
 1896              		.cfi_def_cfa_register 13
 1897              		@ sp needed
 1898 0032 80BC     		pop	{r7}
 1899              	.LCFI70:
 1900              		.cfi_restore 7
 1901              		.cfi_def_cfa_offset 0
 1902 0034 7047     		bx	lr
 1903              		.cfi_endproc
 1904              	.LFE40:
 1906              		.section	.text.CAN_MessagePending,"ax",%progbits
 1907              		.align	1
 1908              		.global	CAN_MessagePending
 1909              		.syntax unified
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 48


 1910              		.thumb
 1911              		.thumb_func
 1913              	CAN_MessagePending:
 1914              	.LFB41:
 736:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 737:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 738:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Returns the number of pending messages.
 739:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:       where x can be 1 or 2 to to select the CAN peripheral.
 740:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  FIFONumber: Receive FIFO number, CAN_FIFO0 or CAN_FIFO1.
 741:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval NbMessage : which is the number of pending message.
 742:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 743:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** uint8_t CAN_MessagePending(CAN_TypeDef* CANx, uint8_t FIFONumber)
 744:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 1915              		.loc 1 744 1
 1916              		.cfi_startproc
 1917              		@ args = 0, pretend = 0, frame = 16
 1918              		@ frame_needed = 1, uses_anonymous_args = 0
 1919              		@ link register save eliminated.
 1920 0000 80B4     		push	{r7}
 1921              	.LCFI71:
 1922              		.cfi_def_cfa_offset 4
 1923              		.cfi_offset 7, -4
 1924 0002 85B0     		sub	sp, sp, #20
 1925              	.LCFI72:
 1926              		.cfi_def_cfa_offset 24
 1927 0004 00AF     		add	r7, sp, #0
 1928              	.LCFI73:
 1929              		.cfi_def_cfa_register 7
 1930 0006 7860     		str	r0, [r7, #4]
 1931 0008 0B46     		mov	r3, r1
 1932 000a FB70     		strb	r3, [r7, #3]
 745:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint8_t message_pending=0;
 1933              		.loc 1 745 11
 1934 000c 0023     		movs	r3, #0
 1935 000e FB73     		strb	r3, [r7, #15]
 746:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 747:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 748:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_FIFO(FIFONumber));
 749:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (FIFONumber == CAN_FIFO0)
 1936              		.loc 1 749 6
 1937 0010 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1938 0012 002B     		cmp	r3, #0
 1939 0014 06D1     		bne	.L97
 750:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 751:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     message_pending = (uint8_t)(CANx->RF0R&(uint32_t)0x03);
 1940              		.loc 1 751 37
 1941 0016 7B68     		ldr	r3, [r7, #4]
 1942 0018 DB68     		ldr	r3, [r3, #12]
 1943              		.loc 1 751 23
 1944 001a DBB2     		uxtb	r3, r3
 1945              		.loc 1 751 21
 1946 001c 03F00303 		and	r3, r3, #3
 1947 0020 FB73     		strb	r3, [r7, #15]
 1948 0022 0BE0     		b	.L98
 1949              	.L97:
 752:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 753:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else if (FIFONumber == CAN_FIFO1)
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 49


 1950              		.loc 1 753 11
 1951 0024 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1952 0026 012B     		cmp	r3, #1
 1953 0028 06D1     		bne	.L99
 754:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 755:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     message_pending = (uint8_t)(CANx->RF1R&(uint32_t)0x03);
 1954              		.loc 1 755 37
 1955 002a 7B68     		ldr	r3, [r7, #4]
 1956 002c 1B69     		ldr	r3, [r3, #16]
 1957              		.loc 1 755 23
 1958 002e DBB2     		uxtb	r3, r3
 1959              		.loc 1 755 21
 1960 0030 03F00303 		and	r3, r3, #3
 1961 0034 FB73     		strb	r3, [r7, #15]
 1962 0036 01E0     		b	.L98
 1963              	.L99:
 756:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 757:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else
 758:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 759:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     message_pending = 0;
 1964              		.loc 1 759 21
 1965 0038 0023     		movs	r3, #0
 1966 003a FB73     		strb	r3, [r7, #15]
 1967              	.L98:
 760:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 761:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   return message_pending;
 1968              		.loc 1 761 10
 1969 003c FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 762:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 1970              		.loc 1 762 1
 1971 003e 1846     		mov	r0, r3
 1972 0040 1437     		adds	r7, r7, #20
 1973              	.LCFI74:
 1974              		.cfi_def_cfa_offset 4
 1975 0042 BD46     		mov	sp, r7
 1976              	.LCFI75:
 1977              		.cfi_def_cfa_register 13
 1978              		@ sp needed
 1979 0044 80BC     		pop	{r7}
 1980              	.LCFI76:
 1981              		.cfi_restore 7
 1982              		.cfi_def_cfa_offset 0
 1983 0046 7047     		bx	lr
 1984              		.cfi_endproc
 1985              	.LFE41:
 1987              		.section	.text.CAN_OperatingModeRequest,"ax",%progbits
 1988              		.align	1
 1989              		.global	CAN_OperatingModeRequest
 1990              		.syntax unified
 1991              		.thumb
 1992              		.thumb_func
 1994              	CAN_OperatingModeRequest:
 1995              	.LFB42:
 763:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 764:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 765:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 766:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief   Select the CAN Operation mode.
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 50


 767:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param CAN_OperatingMode : CAN Operating Mode. This parameter can be one 
 768:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                            of @ref CAN_OperatingMode_TypeDef enumeration.
 769:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval status of the requested mode which can be 
 770:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *         - CAN_ModeStatus_Failed    CAN failed entering the specific mode 
 771:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *         - CAN_ModeStatus_Success   CAN Succeed entering the specific mode 
 772:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 773:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 774:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** uint8_t CAN_OperatingModeRequest(CAN_TypeDef* CANx, uint8_t CAN_OperatingMode)
 775:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 1996              		.loc 1 775 1
 1997              		.cfi_startproc
 1998              		@ args = 0, pretend = 0, frame = 16
 1999              		@ frame_needed = 1, uses_anonymous_args = 0
 2000              		@ link register save eliminated.
 2001 0000 80B4     		push	{r7}
 2002              	.LCFI77:
 2003              		.cfi_def_cfa_offset 4
 2004              		.cfi_offset 7, -4
 2005 0002 85B0     		sub	sp, sp, #20
 2006              	.LCFI78:
 2007              		.cfi_def_cfa_offset 24
 2008 0004 00AF     		add	r7, sp, #0
 2009              	.LCFI79:
 2010              		.cfi_def_cfa_register 7
 2011 0006 7860     		str	r0, [r7, #4]
 2012 0008 0B46     		mov	r3, r1
 2013 000a FB70     		strb	r3, [r7, #3]
 776:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint8_t status = CAN_ModeStatus_Failed;
 2014              		.loc 1 776 11
 2015 000c 0023     		movs	r3, #0
 2016 000e FB73     		strb	r3, [r7, #15]
 777:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 778:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Timeout for INAK or also for SLAK bits*/
 779:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint32_t timeout = INAK_TIMEOUT; 
 2017              		.loc 1 779 12
 2018 0010 4FF6FF73 		movw	r3, #65535
 2019 0014 BB60     		str	r3, [r7, #8]
 780:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 781:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 782:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 783:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_OPERATING_MODE(CAN_OperatingMode));
 784:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 785:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (CAN_OperatingMode == CAN_OperatingMode_Initialization)
 2020              		.loc 1 785 6
 2021 0016 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 2022 0018 002B     		cmp	r3, #0
 2023 001a 20D1     		bne	.L102
 786:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 787:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Request initialisation */
 788:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->MCR = (uint32_t)((CANx->MCR & (uint32_t)(~(uint32_t)CAN_MCR_SLEEP)) | CAN_MCR_INRQ);
 2024              		.loc 1 788 33
 2025 001c 7B68     		ldr	r3, [r7, #4]
 2026 001e 1B68     		ldr	r3, [r3]
 2027              		.loc 1 788 17
 2028 0020 23F00303 		bic	r3, r3, #3
 2029 0024 43F00102 		orr	r2, r3, #1
 2030              		.loc 1 788 15
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 51


 2031 0028 7B68     		ldr	r3, [r7, #4]
 2032 002a 1A60     		str	r2, [r3]
 789:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 790:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Wait the acknowledge */
 791:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     while (((CANx->MSR & CAN_MODE_MASK) != CAN_MSR_INAK) && (timeout != 0))
 2033              		.loc 1 791 11
 2034 002c 02E0     		b	.L103
 2035              	.L105:
 792:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 793:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       timeout--;
 2036              		.loc 1 793 14
 2037 002e BB68     		ldr	r3, [r7, #8]
 2038 0030 013B     		subs	r3, r3, #1
 2039 0032 BB60     		str	r3, [r7, #8]
 2040              	.L103:
 791:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 2041              		.loc 1 791 18
 2042 0034 7B68     		ldr	r3, [r7, #4]
 2043 0036 5B68     		ldr	r3, [r3, #4]
 791:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 2044              		.loc 1 791 24
 2045 0038 03F00303 		and	r3, r3, #3
 791:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 2046              		.loc 1 791 11
 2047 003c 012B     		cmp	r3, #1
 2048 003e 02D0     		beq	.L104
 791:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 2049              		.loc 1 791 58 discriminator 1
 2050 0040 BB68     		ldr	r3, [r7, #8]
 2051 0042 002B     		cmp	r3, #0
 2052 0044 F3D1     		bne	.L105
 2053              	.L104:
 794:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 795:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if ((CANx->MSR & CAN_MODE_MASK) != CAN_MSR_INAK)
 2054              		.loc 1 795 14
 2055 0046 7B68     		ldr	r3, [r7, #4]
 2056 0048 5B68     		ldr	r3, [r3, #4]
 2057              		.loc 1 795 20
 2058 004a 03F00303 		and	r3, r3, #3
 2059              		.loc 1 795 8
 2060 004e 012B     		cmp	r3, #1
 2061 0050 02D0     		beq	.L106
 796:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 797:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       status = CAN_ModeStatus_Failed;
 2062              		.loc 1 797 14
 2063 0052 0023     		movs	r3, #0
 2064 0054 FB73     		strb	r3, [r7, #15]
 2065 0056 4AE0     		b	.L107
 2066              	.L106:
 798:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 799:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
 800:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 801:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       status = CAN_ModeStatus_Success;
 2067              		.loc 1 801 14
 2068 0058 0123     		movs	r3, #1
 2069 005a FB73     		strb	r3, [r7, #15]
 2070 005c 47E0     		b	.L107
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 52


 2071              	.L102:
 802:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 803:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 804:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else  if (CAN_OperatingMode == CAN_OperatingMode_Normal)
 2072              		.loc 1 804 12
 2073 005e FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 2074 0060 012B     		cmp	r3, #1
 2075 0062 1ED1     		bne	.L108
 805:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 806:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Request leave initialisation and sleep mode  and enter Normal mode */
 807:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->MCR &= (uint32_t)(~(CAN_MCR_SLEEP|CAN_MCR_INRQ));
 2076              		.loc 1 807 15
 2077 0064 7B68     		ldr	r3, [r7, #4]
 2078 0066 1B68     		ldr	r3, [r3]
 2079 0068 23F00302 		bic	r2, r3, #3
 2080 006c 7B68     		ldr	r3, [r7, #4]
 2081 006e 1A60     		str	r2, [r3]
 808:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 809:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Wait the acknowledge */
 810:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     while (((CANx->MSR & CAN_MODE_MASK) != 0) && (timeout!=0))
 2082              		.loc 1 810 11
 2083 0070 02E0     		b	.L109
 2084              	.L111:
 811:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 812:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       timeout--;
 2085              		.loc 1 812 14
 2086 0072 BB68     		ldr	r3, [r7, #8]
 2087 0074 013B     		subs	r3, r3, #1
 2088 0076 BB60     		str	r3, [r7, #8]
 2089              	.L109:
 810:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 2090              		.loc 1 810 18
 2091 0078 7B68     		ldr	r3, [r7, #4]
 2092 007a 5B68     		ldr	r3, [r3, #4]
 810:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 2093              		.loc 1 810 24
 2094 007c 03F00303 		and	r3, r3, #3
 810:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 2095              		.loc 1 810 11
 2096 0080 002B     		cmp	r3, #0
 2097 0082 02D0     		beq	.L110
 810:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 2098              		.loc 1 810 47 discriminator 1
 2099 0084 BB68     		ldr	r3, [r7, #8]
 2100 0086 002B     		cmp	r3, #0
 2101 0088 F3D1     		bne	.L111
 2102              	.L110:
 813:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 814:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if ((CANx->MSR & CAN_MODE_MASK) != 0)
 2103              		.loc 1 814 14
 2104 008a 7B68     		ldr	r3, [r7, #4]
 2105 008c 5B68     		ldr	r3, [r3, #4]
 2106              		.loc 1 814 20
 2107 008e 03F00303 		and	r3, r3, #3
 2108              		.loc 1 814 8
 2109 0092 002B     		cmp	r3, #0
 2110 0094 02D0     		beq	.L112
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 53


 815:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 816:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       status = CAN_ModeStatus_Failed;
 2111              		.loc 1 816 14
 2112 0096 0023     		movs	r3, #0
 2113 0098 FB73     		strb	r3, [r7, #15]
 2114 009a 28E0     		b	.L107
 2115              	.L112:
 817:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 818:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
 819:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 820:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       status = CAN_ModeStatus_Success;
 2116              		.loc 1 820 14
 2117 009c 0123     		movs	r3, #1
 2118 009e FB73     		strb	r3, [r7, #15]
 2119 00a0 25E0     		b	.L107
 2120              	.L108:
 821:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 822:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 823:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else  if (CAN_OperatingMode == CAN_OperatingMode_Sleep)
 2121              		.loc 1 823 12
 2122 00a2 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 2123 00a4 022B     		cmp	r3, #2
 2124 00a6 20D1     		bne	.L113
 824:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 825:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Request Sleep mode */
 826:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->MCR = (uint32_t)((CANx->MCR & (uint32_t)(~(uint32_t)CAN_MCR_INRQ)) | CAN_MCR_SLEEP);
 2125              		.loc 1 826 33
 2126 00a8 7B68     		ldr	r3, [r7, #4]
 2127 00aa 1B68     		ldr	r3, [r3]
 2128              		.loc 1 826 17
 2129 00ac 23F00303 		bic	r3, r3, #3
 2130 00b0 43F00202 		orr	r2, r3, #2
 2131              		.loc 1 826 15
 2132 00b4 7B68     		ldr	r3, [r7, #4]
 2133 00b6 1A60     		str	r2, [r3]
 827:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 828:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Wait the acknowledge */
 829:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     while (((CANx->MSR & CAN_MODE_MASK) != CAN_MSR_SLAK) && (timeout!=0))
 2134              		.loc 1 829 11
 2135 00b8 02E0     		b	.L114
 2136              	.L116:
 830:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 831:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       timeout--;
 2137              		.loc 1 831 14
 2138 00ba BB68     		ldr	r3, [r7, #8]
 2139 00bc 013B     		subs	r3, r3, #1
 2140 00be BB60     		str	r3, [r7, #8]
 2141              	.L114:
 829:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 2142              		.loc 1 829 18
 2143 00c0 7B68     		ldr	r3, [r7, #4]
 2144 00c2 5B68     		ldr	r3, [r3, #4]
 829:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 2145              		.loc 1 829 24
 2146 00c4 03F00303 		and	r3, r3, #3
 829:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 2147              		.loc 1 829 11
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 54


 2148 00c8 022B     		cmp	r3, #2
 2149 00ca 02D0     		beq	.L115
 829:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 2150              		.loc 1 829 58 discriminator 1
 2151 00cc BB68     		ldr	r3, [r7, #8]
 2152 00ce 002B     		cmp	r3, #0
 2153 00d0 F3D1     		bne	.L116
 2154              	.L115:
 832:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 833:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if ((CANx->MSR & CAN_MODE_MASK) != CAN_MSR_SLAK)
 2155              		.loc 1 833 14
 2156 00d2 7B68     		ldr	r3, [r7, #4]
 2157 00d4 5B68     		ldr	r3, [r3, #4]
 2158              		.loc 1 833 20
 2159 00d6 03F00303 		and	r3, r3, #3
 2160              		.loc 1 833 8
 2161 00da 022B     		cmp	r3, #2
 2162 00dc 02D0     		beq	.L117
 834:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 835:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       status = CAN_ModeStatus_Failed;
 2163              		.loc 1 835 14
 2164 00de 0023     		movs	r3, #0
 2165 00e0 FB73     		strb	r3, [r7, #15]
 2166 00e2 04E0     		b	.L107
 2167              	.L117:
 836:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 837:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
 838:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 839:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       status = CAN_ModeStatus_Success;
 2168              		.loc 1 839 14
 2169 00e4 0123     		movs	r3, #1
 2170 00e6 FB73     		strb	r3, [r7, #15]
 2171 00e8 01E0     		b	.L107
 2172              	.L113:
 840:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 841:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 842:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else
 843:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 844:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     status = CAN_ModeStatus_Failed;
 2173              		.loc 1 844 12
 2174 00ea 0023     		movs	r3, #0
 2175 00ec FB73     		strb	r3, [r7, #15]
 2176              	.L107:
 845:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 846:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 847:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   return  (uint8_t) status;
 2177              		.loc 1 847 11
 2178 00ee FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 848:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 2179              		.loc 1 848 1
 2180 00f0 1846     		mov	r0, r3
 2181 00f2 1437     		adds	r7, r7, #20
 2182              	.LCFI80:
 2183              		.cfi_def_cfa_offset 4
 2184 00f4 BD46     		mov	sp, r7
 2185              	.LCFI81:
 2186              		.cfi_def_cfa_register 13
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 55


 2187              		@ sp needed
 2188 00f6 80BC     		pop	{r7}
 2189              	.LCFI82:
 2190              		.cfi_restore 7
 2191              		.cfi_def_cfa_offset 0
 2192 00f8 7047     		bx	lr
 2193              		.cfi_endproc
 2194              	.LFE42:
 2196              		.section	.text.CAN_Sleep,"ax",%progbits
 2197              		.align	1
 2198              		.global	CAN_Sleep
 2199              		.syntax unified
 2200              		.thumb
 2201              		.thumb_func
 2203              	CAN_Sleep:
 2204              	.LFB43:
 849:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 850:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 851:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Enters the low power mode.
 852:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:   where x can be 1 or 2 to to select the CAN peripheral.
 853:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval status: CAN_Sleep_Ok if sleep entered, CAN_Sleep_Failed in an 
 854:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 other case.
 855:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 856:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** uint8_t CAN_Sleep(CAN_TypeDef* CANx)
 857:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 2205              		.loc 1 857 1
 2206              		.cfi_startproc
 2207              		@ args = 0, pretend = 0, frame = 16
 2208              		@ frame_needed = 1, uses_anonymous_args = 0
 2209              		@ link register save eliminated.
 2210 0000 80B4     		push	{r7}
 2211              	.LCFI83:
 2212              		.cfi_def_cfa_offset 4
 2213              		.cfi_offset 7, -4
 2214 0002 85B0     		sub	sp, sp, #20
 2215              	.LCFI84:
 2216              		.cfi_def_cfa_offset 24
 2217 0004 00AF     		add	r7, sp, #0
 2218              	.LCFI85:
 2219              		.cfi_def_cfa_register 7
 2220 0006 7860     		str	r0, [r7, #4]
 858:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint8_t sleepstatus = CAN_Sleep_Failed;
 2221              		.loc 1 858 11
 2222 0008 0023     		movs	r3, #0
 2223 000a FB73     		strb	r3, [r7, #15]
 859:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 860:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 861:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 862:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     
 863:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Request Sleep mode */
 864:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    CANx->MCR = (((CANx->MCR) & (uint32_t)(~(uint32_t)CAN_MCR_INRQ)) | CAN_MCR_SLEEP);
 2224              		.loc 1 864 23
 2225 000c 7B68     		ldr	r3, [r7, #4]
 2226 000e 1B68     		ldr	r3, [r3]
 2227              		.loc 1 864 69
 2228 0010 23F00303 		bic	r3, r3, #3
 2229 0014 43F00202 		orr	r2, r3, #2
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 56


 2230              		.loc 1 864 14
 2231 0018 7B68     		ldr	r3, [r7, #4]
 2232 001a 1A60     		str	r2, [r3]
 865:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    
 866:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Sleep mode status */
 867:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if ((CANx->MSR & (CAN_MSR_SLAK|CAN_MSR_INAK)) == CAN_MSR_SLAK)
 2233              		.loc 1 867 12
 2234 001c 7B68     		ldr	r3, [r7, #4]
 2235 001e 5B68     		ldr	r3, [r3, #4]
 2236              		.loc 1 867 18
 2237 0020 03F00303 		and	r3, r3, #3
 2238              		.loc 1 867 6
 2239 0024 022B     		cmp	r3, #2
 2240 0026 01D1     		bne	.L120
 868:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 869:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Sleep mode not entered */
 870:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     sleepstatus =  CAN_Sleep_Ok;
 2241              		.loc 1 870 17
 2242 0028 0123     		movs	r3, #1
 2243 002a FB73     		strb	r3, [r7, #15]
 2244              	.L120:
 871:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 872:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* return sleep mode status */
 873:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    return (uint8_t)sleepstatus;
 2245              		.loc 1 873 11
 2246 002c FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 874:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 2247              		.loc 1 874 1
 2248 002e 1846     		mov	r0, r3
 2249 0030 1437     		adds	r7, r7, #20
 2250              	.LCFI86:
 2251              		.cfi_def_cfa_offset 4
 2252 0032 BD46     		mov	sp, r7
 2253              	.LCFI87:
 2254              		.cfi_def_cfa_register 13
 2255              		@ sp needed
 2256 0034 80BC     		pop	{r7}
 2257              	.LCFI88:
 2258              		.cfi_restore 7
 2259              		.cfi_def_cfa_offset 0
 2260 0036 7047     		bx	lr
 2261              		.cfi_endproc
 2262              	.LFE43:
 2264              		.section	.text.CAN_WakeUp,"ax",%progbits
 2265              		.align	1
 2266              		.global	CAN_WakeUp
 2267              		.syntax unified
 2268              		.thumb
 2269              		.thumb_func
 2271              	CAN_WakeUp:
 2272              	.LFB44:
 875:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 876:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 877:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Wakes the CAN up.
 878:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:    where x can be 1 or 2 to to select the CAN peripheral.
 879:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval status:  CAN_WakeUp_Ok if sleep mode left, CAN_WakeUp_Failed in an 
 880:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  other case.
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 57


 881:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 882:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** uint8_t CAN_WakeUp(CAN_TypeDef* CANx)
 883:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 2273              		.loc 1 883 1
 2274              		.cfi_startproc
 2275              		@ args = 0, pretend = 0, frame = 16
 2276              		@ frame_needed = 1, uses_anonymous_args = 0
 2277              		@ link register save eliminated.
 2278 0000 80B4     		push	{r7}
 2279              	.LCFI89:
 2280              		.cfi_def_cfa_offset 4
 2281              		.cfi_offset 7, -4
 2282 0002 85B0     		sub	sp, sp, #20
 2283              	.LCFI90:
 2284              		.cfi_def_cfa_offset 24
 2285 0004 00AF     		add	r7, sp, #0
 2286              	.LCFI91:
 2287              		.cfi_def_cfa_register 7
 2288 0006 7860     		str	r0, [r7, #4]
 884:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint32_t wait_slak = SLAK_TIMEOUT;
 2289              		.loc 1 884 12
 2290 0008 4FF6FF73 		movw	r3, #65535
 2291 000c FB60     		str	r3, [r7, #12]
 885:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint8_t wakeupstatus = CAN_WakeUp_Failed;
 2292              		.loc 1 885 11
 2293 000e 0023     		movs	r3, #0
 2294 0010 FB72     		strb	r3, [r7, #11]
 886:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 887:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 888:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 889:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     
 890:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Wake up request */
 891:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CANx->MCR &= ~(uint32_t)CAN_MCR_SLEEP;
 2295              		.loc 1 891 13
 2296 0012 7B68     		ldr	r3, [r7, #4]
 2297 0014 1B68     		ldr	r3, [r3]
 2298 0016 23F00202 		bic	r2, r3, #2
 2299 001a 7B68     		ldr	r3, [r7, #4]
 2300 001c 1A60     		str	r2, [r3]
 892:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     
 893:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Sleep mode status */
 894:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   while(((CANx->MSR & CAN_MSR_SLAK) == CAN_MSR_SLAK)&&(wait_slak!=0x00))
 2301              		.loc 1 894 8
 2302 001e 02E0     		b	.L123
 2303              	.L125:
 895:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 896:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    wait_slak--;
 2304              		.loc 1 896 13
 2305 0020 FB68     		ldr	r3, [r7, #12]
 2306 0022 013B     		subs	r3, r3, #1
 2307 0024 FB60     		str	r3, [r7, #12]
 2308              	.L123:
 894:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 2309              		.loc 1 894 15
 2310 0026 7B68     		ldr	r3, [r7, #4]
 2311 0028 5B68     		ldr	r3, [r3, #4]
 894:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 58


 2312              		.loc 1 894 21
 2313 002a 03F00203 		and	r3, r3, #2
 894:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 2314              		.loc 1 894 8
 2315 002e 022B     		cmp	r3, #2
 2316 0030 02D1     		bne	.L124
 894:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 2317              		.loc 1 894 53 discriminator 1
 2318 0032 FB68     		ldr	r3, [r7, #12]
 2319 0034 002B     		cmp	r3, #0
 2320 0036 F3D1     		bne	.L125
 2321              	.L124:
 897:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 898:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if((CANx->MSR & CAN_MSR_SLAK) != CAN_MSR_SLAK)
 2322              		.loc 1 898 11
 2323 0038 7B68     		ldr	r3, [r7, #4]
 2324 003a 5B68     		ldr	r3, [r3, #4]
 2325              		.loc 1 898 17
 2326 003c 03F00203 		and	r3, r3, #2
 2327              		.loc 1 898 5
 2328 0040 022B     		cmp	r3, #2
 2329 0042 01D0     		beq	.L126
 899:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 900:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    /* wake up done : Sleep mode exited */
 901:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     wakeupstatus = CAN_WakeUp_Ok;
 2330              		.loc 1 901 18
 2331 0044 0123     		movs	r3, #1
 2332 0046 FB72     		strb	r3, [r7, #11]
 2333              	.L126:
 902:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 903:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* return wakeup status */
 904:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   return (uint8_t)wakeupstatus;
 2334              		.loc 1 904 10
 2335 0048 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 905:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 2336              		.loc 1 905 1
 2337 004a 1846     		mov	r0, r3
 2338 004c 1437     		adds	r7, r7, #20
 2339              	.LCFI92:
 2340              		.cfi_def_cfa_offset 4
 2341 004e BD46     		mov	sp, r7
 2342              	.LCFI93:
 2343              		.cfi_def_cfa_register 13
 2344              		@ sp needed
 2345 0050 80BC     		pop	{r7}
 2346              	.LCFI94:
 2347              		.cfi_restore 7
 2348              		.cfi_def_cfa_offset 0
 2349 0052 7047     		bx	lr
 2350              		.cfi_endproc
 2351              	.LFE44:
 2353              		.section	.text.CAN_GetLastErrorCode,"ax",%progbits
 2354              		.align	1
 2355              		.global	CAN_GetLastErrorCode
 2356              		.syntax unified
 2357              		.thumb
 2358              		.thumb_func
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 59


 2360              	CAN_GetLastErrorCode:
 2361              	.LFB45:
 906:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 907:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 908:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 909:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Returns the CANx's last error code (LEC).
 910:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:          where x can be 1 or 2 to to select the CAN peripheral.  
 911:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval CAN_ErrorCode: specifies the Error code : 
 912:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                        - CAN_ERRORCODE_NoErr            No Error  
 913:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                        - CAN_ERRORCODE_StuffErr         Stuff Error
 914:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                        - CAN_ERRORCODE_FormErr          Form Error
 915:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                        - CAN_ERRORCODE_ACKErr           Acknowledgment Error
 916:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                        - CAN_ERRORCODE_BitRecessiveErr  Bit Recessive Error
 917:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                        - CAN_ERRORCODE_BitDominantErr   Bit Dominant Error
 918:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                        - CAN_ERRORCODE_CRCErr           CRC Error
 919:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                        - CAN_ERRORCODE_SoftwareSetErr   Software Set Error  
 920:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 921:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****  
 922:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** uint8_t CAN_GetLastErrorCode(CAN_TypeDef* CANx)
 923:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 2362              		.loc 1 923 1
 2363              		.cfi_startproc
 2364              		@ args = 0, pretend = 0, frame = 16
 2365              		@ frame_needed = 1, uses_anonymous_args = 0
 2366              		@ link register save eliminated.
 2367 0000 80B4     		push	{r7}
 2368              	.LCFI95:
 2369              		.cfi_def_cfa_offset 4
 2370              		.cfi_offset 7, -4
 2371 0002 85B0     		sub	sp, sp, #20
 2372              	.LCFI96:
 2373              		.cfi_def_cfa_offset 24
 2374 0004 00AF     		add	r7, sp, #0
 2375              	.LCFI97:
 2376              		.cfi_def_cfa_register 7
 2377 0006 7860     		str	r0, [r7, #4]
 924:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint8_t errorcode=0;
 2378              		.loc 1 924 11
 2379 0008 0023     		movs	r3, #0
 2380 000a FB73     		strb	r3, [r7, #15]
 925:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 926:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 927:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 928:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 929:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Get the error code*/
 930:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   errorcode = (((uint8_t)CANx->ESR) & (uint8_t)CAN_ESR_LEC);
 2381              		.loc 1 930 30
 2382 000c 7B68     		ldr	r3, [r7, #4]
 2383 000e 9B69     		ldr	r3, [r3, #24]
 2384              		.loc 1 930 37
 2385 0010 DBB2     		uxtb	r3, r3
 2386              		.loc 1 930 13
 2387 0012 03F07003 		and	r3, r3, #112
 2388 0016 FB73     		strb	r3, [r7, #15]
 931:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 932:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Return the error code*/
 933:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   return errorcode;
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 60


 2389              		.loc 1 933 10
 2390 0018 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 934:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 2391              		.loc 1 934 1
 2392 001a 1846     		mov	r0, r3
 2393 001c 1437     		adds	r7, r7, #20
 2394              	.LCFI98:
 2395              		.cfi_def_cfa_offset 4
 2396 001e BD46     		mov	sp, r7
 2397              	.LCFI99:
 2398              		.cfi_def_cfa_register 13
 2399              		@ sp needed
 2400 0020 80BC     		pop	{r7}
 2401              	.LCFI100:
 2402              		.cfi_restore 7
 2403              		.cfi_def_cfa_offset 0
 2404 0022 7047     		bx	lr
 2405              		.cfi_endproc
 2406              	.LFE45:
 2408              		.section	.text.CAN_GetReceiveErrorCounter,"ax",%progbits
 2409              		.align	1
 2410              		.global	CAN_GetReceiveErrorCounter
 2411              		.syntax unified
 2412              		.thumb
 2413              		.thumb_func
 2415              	CAN_GetReceiveErrorCounter:
 2416              	.LFB46:
 935:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 936:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Returns the CANx Receive Error Counter (REC).
 937:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @note   In case of an error during reception, this counter is incremented 
 938:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *         by 1 or by 8 depending on the error condition as defined by the CAN 
 939:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *         standard. After every successful reception, the counter is 
 940:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *         decremented by 1 or reset to 120 if its value was higher than 128. 
 941:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *         When the counter value exceeds 127, the CAN controller enters the 
 942:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *         error passive state.  
 943:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx: where x can be 1 or 2 to to select the CAN peripheral.  
 944:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval CAN Receive Error Counter. 
 945:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 946:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** uint8_t CAN_GetReceiveErrorCounter(CAN_TypeDef* CANx)
 947:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 2417              		.loc 1 947 1
 2418              		.cfi_startproc
 2419              		@ args = 0, pretend = 0, frame = 16
 2420              		@ frame_needed = 1, uses_anonymous_args = 0
 2421              		@ link register save eliminated.
 2422 0000 80B4     		push	{r7}
 2423              	.LCFI101:
 2424              		.cfi_def_cfa_offset 4
 2425              		.cfi_offset 7, -4
 2426 0002 85B0     		sub	sp, sp, #20
 2427              	.LCFI102:
 2428              		.cfi_def_cfa_offset 24
 2429 0004 00AF     		add	r7, sp, #0
 2430              	.LCFI103:
 2431              		.cfi_def_cfa_register 7
 2432 0006 7860     		str	r0, [r7, #4]
 948:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint8_t counter=0;
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 61


 2433              		.loc 1 948 11
 2434 0008 0023     		movs	r3, #0
 2435 000a FB73     		strb	r3, [r7, #15]
 949:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 950:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 951:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 952:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 953:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Get the Receive Error Counter*/
 954:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   counter = (uint8_t)((CANx->ESR & CAN_ESR_REC)>> 24);
 2436              		.loc 1 954 28
 2437 000c 7B68     		ldr	r3, [r7, #4]
 2438 000e 9B69     		ldr	r3, [r3, #24]
 2439              		.loc 1 954 48
 2440 0010 1B0E     		lsrs	r3, r3, #24
 2441              		.loc 1 954 11
 2442 0012 FB73     		strb	r3, [r7, #15]
 955:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 956:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Return the Receive Error Counter*/
 957:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   return counter;
 2443              		.loc 1 957 10
 2444 0014 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 958:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 2445              		.loc 1 958 1
 2446 0016 1846     		mov	r0, r3
 2447 0018 1437     		adds	r7, r7, #20
 2448              	.LCFI104:
 2449              		.cfi_def_cfa_offset 4
 2450 001a BD46     		mov	sp, r7
 2451              	.LCFI105:
 2452              		.cfi_def_cfa_register 13
 2453              		@ sp needed
 2454 001c 80BC     		pop	{r7}
 2455              	.LCFI106:
 2456              		.cfi_restore 7
 2457              		.cfi_def_cfa_offset 0
 2458 001e 7047     		bx	lr
 2459              		.cfi_endproc
 2460              	.LFE46:
 2462              		.section	.text.CAN_GetLSBTransmitErrorCounter,"ax",%progbits
 2463              		.align	1
 2464              		.global	CAN_GetLSBTransmitErrorCounter
 2465              		.syntax unified
 2466              		.thumb
 2467              		.thumb_func
 2469              	CAN_GetLSBTransmitErrorCounter:
 2470              	.LFB47:
 959:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 960:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 961:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 962:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Returns the LSB of the 9-bit CANx Transmit Error Counter(TEC).
 963:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:   where x can be 1 or 2 to to select the CAN peripheral.  
 964:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval LSB of the 9-bit CAN Transmit Error Counter. 
 965:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 966:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** uint8_t CAN_GetLSBTransmitErrorCounter(CAN_TypeDef* CANx)
 967:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 2471              		.loc 1 967 1
 2472              		.cfi_startproc
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 62


 2473              		@ args = 0, pretend = 0, frame = 16
 2474              		@ frame_needed = 1, uses_anonymous_args = 0
 2475              		@ link register save eliminated.
 2476 0000 80B4     		push	{r7}
 2477              	.LCFI107:
 2478              		.cfi_def_cfa_offset 4
 2479              		.cfi_offset 7, -4
 2480 0002 85B0     		sub	sp, sp, #20
 2481              	.LCFI108:
 2482              		.cfi_def_cfa_offset 24
 2483 0004 00AF     		add	r7, sp, #0
 2484              	.LCFI109:
 2485              		.cfi_def_cfa_register 7
 2486 0006 7860     		str	r0, [r7, #4]
 968:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint8_t counter=0;
 2487              		.loc 1 968 11
 2488 0008 0023     		movs	r3, #0
 2489 000a FB73     		strb	r3, [r7, #15]
 969:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 970:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 971:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 972:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 973:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Get the LSB of the 9-bit CANx Transmit Error Counter(TEC) */
 974:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   counter = (uint8_t)((CANx->ESR & CAN_ESR_TEC)>> 16);
 2490              		.loc 1 974 28
 2491 000c 7B68     		ldr	r3, [r7, #4]
 2492 000e 9B69     		ldr	r3, [r3, #24]
 2493              		.loc 1 974 48
 2494 0010 1B0C     		lsrs	r3, r3, #16
 2495              		.loc 1 974 11
 2496 0012 FB73     		strb	r3, [r7, #15]
 975:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 976:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Return the LSB of the 9-bit CANx Transmit Error Counter(TEC) */
 977:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   return counter;
 2497              		.loc 1 977 10
 2498 0014 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 978:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 2499              		.loc 1 978 1
 2500 0016 1846     		mov	r0, r3
 2501 0018 1437     		adds	r7, r7, #20
 2502              	.LCFI110:
 2503              		.cfi_def_cfa_offset 4
 2504 001a BD46     		mov	sp, r7
 2505              	.LCFI111:
 2506              		.cfi_def_cfa_register 13
 2507              		@ sp needed
 2508 001c 80BC     		pop	{r7}
 2509              	.LCFI112:
 2510              		.cfi_restore 7
 2511              		.cfi_def_cfa_offset 0
 2512 001e 7047     		bx	lr
 2513              		.cfi_endproc
 2514              	.LFE47:
 2516              		.section	.text.CAN_ITConfig,"ax",%progbits
 2517              		.align	1
 2518              		.global	CAN_ITConfig
 2519              		.syntax unified
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 63


 2520              		.thumb
 2521              		.thumb_func
 2523              	CAN_ITConfig:
 2524              	.LFB48:
 979:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 980:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 981:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 982:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Enables or disables the specified CANx interrupts.
 983:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:   where x can be 1 or 2 to to select the CAN peripheral.
 984:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CAN_IT: specifies the CAN interrupt sources to be enabled or disabled.
 985:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 This parameter can be: 
 986:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 - CAN_IT_TME, 
 987:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 - CAN_IT_FMP0, 
 988:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 - CAN_IT_FF0,
 989:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 - CAN_IT_FOV0, 
 990:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 - CAN_IT_FMP1, 
 991:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 - CAN_IT_FF1,
 992:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 - CAN_IT_FOV1, 
 993:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 - CAN_IT_EWG, 
 994:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 - CAN_IT_EPV,
 995:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 - CAN_IT_LEC, 
 996:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 - CAN_IT_ERR, 
 997:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 - CAN_IT_WKU or 
 998:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 - CAN_IT_SLK.
 999:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  NewState: new state of the CAN interrupts.
1000:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                   This parameter can be: ENABLE or DISABLE.
1001:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval None.
1002:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
1003:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** void CAN_ITConfig(CAN_TypeDef* CANx, uint32_t CAN_IT, FunctionalState NewState)
1004:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 2525              		.loc 1 1004 1
 2526              		.cfi_startproc
 2527              		@ args = 0, pretend = 0, frame = 16
 2528              		@ frame_needed = 1, uses_anonymous_args = 0
 2529              		@ link register save eliminated.
 2530 0000 80B4     		push	{r7}
 2531              	.LCFI113:
 2532              		.cfi_def_cfa_offset 4
 2533              		.cfi_offset 7, -4
 2534 0002 85B0     		sub	sp, sp, #20
 2535              	.LCFI114:
 2536              		.cfi_def_cfa_offset 24
 2537 0004 00AF     		add	r7, sp, #0
 2538              	.LCFI115:
 2539              		.cfi_def_cfa_register 7
 2540 0006 F860     		str	r0, [r7, #12]
 2541 0008 B960     		str	r1, [r7, #8]
 2542 000a 1346     		mov	r3, r2
 2543 000c FB71     		strb	r3, [r7, #7]
1005:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
1006:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
1007:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_IT(CAN_IT));
1008:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
1009:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
1010:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (NewState != DISABLE)
 2544              		.loc 1 1010 6
 2545 000e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 64


 2546 0010 002B     		cmp	r3, #0
 2547 0012 06D0     		beq	.L135
1011:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
1012:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Enable the selected CANx interrupt */
1013:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->IER |= CAN_IT;
 2548              		.loc 1 1013 15
 2549 0014 FB68     		ldr	r3, [r7, #12]
 2550 0016 5A69     		ldr	r2, [r3, #20]
 2551 0018 BB68     		ldr	r3, [r7, #8]
 2552 001a 1A43     		orrs	r2, r2, r3
 2553 001c FB68     		ldr	r3, [r7, #12]
 2554 001e 5A61     		str	r2, [r3, #20]
1014:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
1015:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else
1016:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
1017:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Disable the selected CANx interrupt */
1018:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->IER &= ~CAN_IT;
1019:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
1020:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 2555              		.loc 1 1020 1
 2556 0020 06E0     		b	.L137
 2557              	.L135:
1018:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 2558              		.loc 1 1018 15
 2559 0022 FB68     		ldr	r3, [r7, #12]
 2560 0024 5A69     		ldr	r2, [r3, #20]
1018:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 2561              		.loc 1 1018 18
 2562 0026 BB68     		ldr	r3, [r7, #8]
 2563 0028 DB43     		mvns	r3, r3
1018:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 2564              		.loc 1 1018 15
 2565 002a 1A40     		ands	r2, r2, r3
 2566 002c FB68     		ldr	r3, [r7, #12]
 2567 002e 5A61     		str	r2, [r3, #20]
 2568              	.L137:
 2569              		.loc 1 1020 1
 2570 0030 00BF     		nop
 2571 0032 1437     		adds	r7, r7, #20
 2572              	.LCFI116:
 2573              		.cfi_def_cfa_offset 4
 2574 0034 BD46     		mov	sp, r7
 2575              	.LCFI117:
 2576              		.cfi_def_cfa_register 13
 2577              		@ sp needed
 2578 0036 80BC     		pop	{r7}
 2579              	.LCFI118:
 2580              		.cfi_restore 7
 2581              		.cfi_def_cfa_offset 0
 2582 0038 7047     		bx	lr
 2583              		.cfi_endproc
 2584              	.LFE48:
 2586              		.section	.text.CAN_GetFlagStatus,"ax",%progbits
 2587              		.align	1
 2588              		.global	CAN_GetFlagStatus
 2589              		.syntax unified
 2590              		.thumb
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 65


 2591              		.thumb_func
 2593              	CAN_GetFlagStatus:
 2594              	.LFB49:
1021:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
1022:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Checks whether the specified CAN flag is set or not.
1023:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:     where x can be 1 or 2 to to select the CAN peripheral.
1024:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CAN_FLAG: specifies the flag to check.
1025:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                   This parameter can be one of the following flags: 
1026:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_EWG
1027:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_EPV 
1028:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_BOF
1029:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_RQCP0
1030:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_RQCP1
1031:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_RQCP2
1032:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_FMP1   
1033:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_FF1       
1034:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_FOV1   
1035:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_FMP0   
1036:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_FF0       
1037:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_FOV0   
1038:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_WKU 
1039:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_SLAK  
1040:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_LEC       
1041:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval The new state of CAN_FLAG (SET or RESET).
1042:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
1043:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** FlagStatus CAN_GetFlagStatus(CAN_TypeDef* CANx, uint32_t CAN_FLAG)
1044:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 2595              		.loc 1 1044 1
 2596              		.cfi_startproc
 2597              		@ args = 0, pretend = 0, frame = 16
 2598              		@ frame_needed = 1, uses_anonymous_args = 0
 2599              		@ link register save eliminated.
 2600 0000 80B4     		push	{r7}
 2601              	.LCFI119:
 2602              		.cfi_def_cfa_offset 4
 2603              		.cfi_offset 7, -4
 2604 0002 85B0     		sub	sp, sp, #20
 2605              	.LCFI120:
 2606              		.cfi_def_cfa_offset 24
 2607 0004 00AF     		add	r7, sp, #0
 2608              	.LCFI121:
 2609              		.cfi_def_cfa_register 7
 2610 0006 7860     		str	r0, [r7, #4]
 2611 0008 3960     		str	r1, [r7]
1045:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   FlagStatus bitstatus = RESET;
 2612              		.loc 1 1045 14
 2613 000a 0023     		movs	r3, #0
 2614 000c FB73     		strb	r3, [r7, #15]
1046:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
1047:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
1048:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
1049:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_GET_FLAG(CAN_FLAG));
1050:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
1051:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
1052:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if((CAN_FLAG & CAN_FLAGS_ESR) != (uint32_t)RESET)
 2615              		.loc 1 1052 16
 2616 000e 3B68     		ldr	r3, [r7]
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 66


 2617 0010 03F47003 		and	r3, r3, #15728640
 2618              		.loc 1 1052 5
 2619 0014 002B     		cmp	r3, #0
 2620 0016 0DD0     		beq	.L139
1053:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   { 
1054:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Check the status of the specified CAN flag */
1055:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if ((CANx->ESR & (CAN_FLAG & 0x000FFFFF)) != (uint32_t)RESET)
 2621              		.loc 1 1055 14
 2622 0018 7B68     		ldr	r3, [r7, #4]
 2623 001a 9A69     		ldr	r2, [r3, #24]
 2624              		.loc 1 1055 20
 2625 001c 3B68     		ldr	r3, [r7]
 2626 001e 1340     		ands	r3, r3, r2
 2627 0020 C3F31303 		ubfx	r3, r3, #0, #20
 2628              		.loc 1 1055 8
 2629 0024 002B     		cmp	r3, #0
 2630 0026 02D0     		beq	.L140
1056:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     { 
1057:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* CAN_FLAG is set */
1058:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       bitstatus = SET;
 2631              		.loc 1 1058 17
 2632 0028 0123     		movs	r3, #1
 2633 002a FB73     		strb	r3, [r7, #15]
 2634 002c 48E0     		b	.L141
 2635              	.L140:
1059:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
1060:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
1061:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     { 
1062:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* CAN_FLAG is reset */
1063:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       bitstatus = RESET;
 2636              		.loc 1 1063 17
 2637 002e 0023     		movs	r3, #0
 2638 0030 FB73     		strb	r3, [r7, #15]
 2639 0032 45E0     		b	.L141
 2640              	.L139:
1064:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
1065:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
1066:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else if((CAN_FLAG & CAN_FLAGS_MSR) != (uint32_t)RESET)
 2641              		.loc 1 1066 21
 2642 0034 3B68     		ldr	r3, [r7]
 2643 0036 03F08073 		and	r3, r3, #16777216
 2644              		.loc 1 1066 10
 2645 003a 002B     		cmp	r3, #0
 2646 003c 0DD0     		beq	.L142
1067:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   { 
1068:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Check the status of the specified CAN flag */
1069:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if ((CANx->MSR & (CAN_FLAG & 0x000FFFFF)) != (uint32_t)RESET)
 2647              		.loc 1 1069 14
 2648 003e 7B68     		ldr	r3, [r7, #4]
 2649 0040 5A68     		ldr	r2, [r3, #4]
 2650              		.loc 1 1069 20
 2651 0042 3B68     		ldr	r3, [r7]
 2652 0044 1340     		ands	r3, r3, r2
 2653 0046 C3F31303 		ubfx	r3, r3, #0, #20
 2654              		.loc 1 1069 8
 2655 004a 002B     		cmp	r3, #0
 2656 004c 02D0     		beq	.L143
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 67


1070:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     { 
1071:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* CAN_FLAG is set */
1072:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       bitstatus = SET;
 2657              		.loc 1 1072 17
 2658 004e 0123     		movs	r3, #1
 2659 0050 FB73     		strb	r3, [r7, #15]
 2660 0052 35E0     		b	.L141
 2661              	.L143:
1073:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
1074:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
1075:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     { 
1076:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* CAN_FLAG is reset */
1077:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       bitstatus = RESET;
 2662              		.loc 1 1077 17
 2663 0054 0023     		movs	r3, #0
 2664 0056 FB73     		strb	r3, [r7, #15]
 2665 0058 32E0     		b	.L141
 2666              	.L142:
1078:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
1079:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
1080:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else if((CAN_FLAG & CAN_FLAGS_TSR) != (uint32_t)RESET)
 2667              		.loc 1 1080 21
 2668 005a 3B68     		ldr	r3, [r7]
 2669 005c 03F00063 		and	r3, r3, #134217728
 2670              		.loc 1 1080 10
 2671 0060 002B     		cmp	r3, #0
 2672 0062 0DD0     		beq	.L144
1081:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   { 
1082:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Check the status of the specified CAN flag */
1083:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if ((CANx->TSR & (CAN_FLAG & 0x000FFFFF)) != (uint32_t)RESET)
 2673              		.loc 1 1083 14
 2674 0064 7B68     		ldr	r3, [r7, #4]
 2675 0066 9A68     		ldr	r2, [r3, #8]
 2676              		.loc 1 1083 20
 2677 0068 3B68     		ldr	r3, [r7]
 2678 006a 1340     		ands	r3, r3, r2
 2679 006c C3F31303 		ubfx	r3, r3, #0, #20
 2680              		.loc 1 1083 8
 2681 0070 002B     		cmp	r3, #0
 2682 0072 02D0     		beq	.L145
1084:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     { 
1085:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* CAN_FLAG is set */
1086:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       bitstatus = SET;
 2683              		.loc 1 1086 17
 2684 0074 0123     		movs	r3, #1
 2685 0076 FB73     		strb	r3, [r7, #15]
 2686 0078 22E0     		b	.L141
 2687              	.L145:
1087:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
1088:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
1089:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     { 
1090:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* CAN_FLAG is reset */
1091:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       bitstatus = RESET;
 2688              		.loc 1 1091 17
 2689 007a 0023     		movs	r3, #0
 2690 007c FB73     		strb	r3, [r7, #15]
 2691 007e 1FE0     		b	.L141
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 68


 2692              	.L144:
1092:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
1093:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
1094:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else if((CAN_FLAG & CAN_FLAGS_RF0R) != (uint32_t)RESET)
 2693              		.loc 1 1094 21
 2694 0080 3B68     		ldr	r3, [r7]
 2695 0082 03F00073 		and	r3, r3, #33554432
 2696              		.loc 1 1094 10
 2697 0086 002B     		cmp	r3, #0
 2698 0088 0DD0     		beq	.L146
1095:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   { 
1096:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Check the status of the specified CAN flag */
1097:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if ((CANx->RF0R & (CAN_FLAG & 0x000FFFFF)) != (uint32_t)RESET)
 2699              		.loc 1 1097 14
 2700 008a 7B68     		ldr	r3, [r7, #4]
 2701 008c DA68     		ldr	r2, [r3, #12]
 2702              		.loc 1 1097 21
 2703 008e 3B68     		ldr	r3, [r7]
 2704 0090 1340     		ands	r3, r3, r2
 2705 0092 C3F31303 		ubfx	r3, r3, #0, #20
 2706              		.loc 1 1097 8
 2707 0096 002B     		cmp	r3, #0
 2708 0098 02D0     		beq	.L147
1098:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     { 
1099:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* CAN_FLAG is set */
1100:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       bitstatus = SET;
 2709              		.loc 1 1100 17
 2710 009a 0123     		movs	r3, #1
 2711 009c FB73     		strb	r3, [r7, #15]
 2712 009e 0FE0     		b	.L141
 2713              	.L147:
1101:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
1102:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
1103:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     { 
1104:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* CAN_FLAG is reset */
1105:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       bitstatus = RESET;
 2714              		.loc 1 1105 17
 2715 00a0 0023     		movs	r3, #0
 2716 00a2 FB73     		strb	r3, [r7, #15]
 2717 00a4 0CE0     		b	.L141
 2718              	.L146:
1106:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
1107:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
1108:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else /* If(CAN_FLAG & CAN_FLAGS_RF1R != (uint32_t)RESET) */
1109:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   { 
1110:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Check the status of the specified CAN flag */
1111:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if ((uint32_t)(CANx->RF1R & (CAN_FLAG & 0x000FFFFF)) != (uint32_t)RESET)
 2719              		.loc 1 1111 24
 2720 00a6 7B68     		ldr	r3, [r7, #4]
 2721 00a8 1A69     		ldr	r2, [r3, #16]
 2722              		.loc 1 1111 9
 2723 00aa 3B68     		ldr	r3, [r7]
 2724 00ac 1340     		ands	r3, r3, r2
 2725 00ae C3F31303 		ubfx	r3, r3, #0, #20
 2726              		.loc 1 1111 8
 2727 00b2 002B     		cmp	r3, #0
 2728 00b4 02D0     		beq	.L148
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 69


1112:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     { 
1113:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* CAN_FLAG is set */
1114:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       bitstatus = SET;
 2729              		.loc 1 1114 17
 2730 00b6 0123     		movs	r3, #1
 2731 00b8 FB73     		strb	r3, [r7, #15]
 2732 00ba 01E0     		b	.L141
 2733              	.L148:
1115:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
1116:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
1117:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     { 
1118:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* CAN_FLAG is reset */
1119:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       bitstatus = RESET;
 2734              		.loc 1 1119 17
 2735 00bc 0023     		movs	r3, #0
 2736 00be FB73     		strb	r3, [r7, #15]
 2737              	.L141:
1120:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
1121:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
1122:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Return the CAN_FLAG status */
1123:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   return  bitstatus;
 2738              		.loc 1 1123 11
 2739 00c0 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
1124:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 2740              		.loc 1 1124 1
 2741 00c2 1846     		mov	r0, r3
 2742 00c4 1437     		adds	r7, r7, #20
 2743              	.LCFI122:
 2744              		.cfi_def_cfa_offset 4
 2745 00c6 BD46     		mov	sp, r7
 2746              	.LCFI123:
 2747              		.cfi_def_cfa_register 13
 2748              		@ sp needed
 2749 00c8 80BC     		pop	{r7}
 2750              	.LCFI124:
 2751              		.cfi_restore 7
 2752              		.cfi_def_cfa_offset 0
 2753 00ca 7047     		bx	lr
 2754              		.cfi_endproc
 2755              	.LFE49:
 2757              		.section	.text.CAN_ClearFlag,"ax",%progbits
 2758              		.align	1
 2759              		.global	CAN_ClearFlag
 2760              		.syntax unified
 2761              		.thumb
 2762              		.thumb_func
 2764              	CAN_ClearFlag:
 2765              	.LFB50:
1125:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
1126:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
1127:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Clears the CAN's pending flags.
1128:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:     where x can be 1 or 2 to to select the CAN peripheral.
1129:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CAN_FLAG: specifies the flag to clear.
1130:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                   This parameter can be one of the following flags: 
1131:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                    - CAN_FLAG_RQCP0
1132:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                    - CAN_FLAG_RQCP1
1133:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                    - CAN_FLAG_RQCP2
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 70


1134:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                    - CAN_FLAG_FF1       
1135:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                    - CAN_FLAG_FOV1   
1136:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                    - CAN_FLAG_FF0       
1137:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                    - CAN_FLAG_FOV0   
1138:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                    - CAN_FLAG_WKU   
1139:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                    - CAN_FLAG_SLAK    
1140:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                    - CAN_FLAG_LEC       
1141:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval None.
1142:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
1143:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** void CAN_ClearFlag(CAN_TypeDef* CANx, uint32_t CAN_FLAG)
1144:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 2766              		.loc 1 1144 1
 2767              		.cfi_startproc
 2768              		@ args = 0, pretend = 0, frame = 16
 2769              		@ frame_needed = 1, uses_anonymous_args = 0
 2770              		@ link register save eliminated.
 2771 0000 80B4     		push	{r7}
 2772              	.LCFI125:
 2773              		.cfi_def_cfa_offset 4
 2774              		.cfi_offset 7, -4
 2775 0002 85B0     		sub	sp, sp, #20
 2776              	.LCFI126:
 2777              		.cfi_def_cfa_offset 24
 2778 0004 00AF     		add	r7, sp, #0
 2779              	.LCFI127:
 2780              		.cfi_def_cfa_register 7
 2781 0006 7860     		str	r0, [r7, #4]
 2782 0008 3960     		str	r1, [r7]
1145:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint32_t flagtmp=0;
 2783              		.loc 1 1145 12
 2784 000a 0023     		movs	r3, #0
 2785 000c FB60     		str	r3, [r7, #12]
1146:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
1147:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
1148:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_CLEAR_FLAG(CAN_FLAG));
1149:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
1150:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (CAN_FLAG == CAN_FLAG_LEC) /* ESR register */
 2786              		.loc 1 1150 6
 2787 000e 3B68     		ldr	r3, [r7]
 2788 0010 164A     		ldr	r2, .L157
 2789 0012 9342     		cmp	r3, r2
 2790 0014 03D1     		bne	.L151
1151:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
1152:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Clear the selected CAN flags */
1153:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->ESR = (uint32_t)RESET;
 2791              		.loc 1 1153 15
 2792 0016 7B68     		ldr	r3, [r7, #4]
 2793 0018 0022     		movs	r2, #0
 2794 001a 9A61     		str	r2, [r3, #24]
1154:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
1155:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else /* MSR or TSR or RF0R or RF1R */
1156:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
1157:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     flagtmp = CAN_FLAG & 0x000FFFFF;
1158:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
1159:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if ((CAN_FLAG & CAN_FLAGS_RF0R)!=(uint32_t)RESET)
1160:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
1161:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* Receive Flags */
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 71


1162:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->RF0R = (uint32_t)(flagtmp);
1163:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
1164:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else if ((CAN_FLAG & CAN_FLAGS_RF1R)!=(uint32_t)RESET)
1165:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
1166:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* Receive Flags */
1167:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->RF1R = (uint32_t)(flagtmp);
1168:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
1169:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else if ((CAN_FLAG & CAN_FLAGS_TSR)!=(uint32_t)RESET)
1170:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
1171:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* Transmit Flags */
1172:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->TSR = (uint32_t)(flagtmp);
1173:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
1174:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else /* If((CAN_FLAG & CAN_FLAGS_MSR)!=(uint32_t)RESET) */
1175:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
1176:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* Operating mode Flags */
1177:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->MSR = (uint32_t)(flagtmp);
1178:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
1179:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
1180:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 2795              		.loc 1 1180 1
 2796 001c 21E0     		b	.L156
 2797              	.L151:
1157:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 2798              		.loc 1 1157 13
 2799 001e 3B68     		ldr	r3, [r7]
 2800 0020 C3F31303 		ubfx	r3, r3, #0, #20
 2801 0024 FB60     		str	r3, [r7, #12]
1159:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 2802              		.loc 1 1159 19
 2803 0026 3B68     		ldr	r3, [r7]
 2804 0028 03F00073 		and	r3, r3, #33554432
1159:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 2805              		.loc 1 1159 8
 2806 002c 002B     		cmp	r3, #0
 2807 002e 03D0     		beq	.L153
1162:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 2808              		.loc 1 1162 18
 2809 0030 7B68     		ldr	r3, [r7, #4]
 2810 0032 FA68     		ldr	r2, [r7, #12]
 2811 0034 DA60     		str	r2, [r3, #12]
 2812              		.loc 1 1180 1
 2813 0036 14E0     		b	.L156
 2814              	.L153:
1164:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 2815              		.loc 1 1164 24
 2816 0038 3B68     		ldr	r3, [r7]
 2817 003a 03F08063 		and	r3, r3, #67108864
1164:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 2818              		.loc 1 1164 13
 2819 003e 002B     		cmp	r3, #0
 2820 0040 03D0     		beq	.L154
1167:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 2821              		.loc 1 1167 18
 2822 0042 7B68     		ldr	r3, [r7, #4]
 2823 0044 FA68     		ldr	r2, [r7, #12]
 2824 0046 1A61     		str	r2, [r3, #16]
 2825              		.loc 1 1180 1
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 72


 2826 0048 0BE0     		b	.L156
 2827              	.L154:
1169:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 2828              		.loc 1 1169 24
 2829 004a 3B68     		ldr	r3, [r7]
 2830 004c 03F00063 		and	r3, r3, #134217728
1169:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 2831              		.loc 1 1169 13
 2832 0050 002B     		cmp	r3, #0
 2833 0052 03D0     		beq	.L155
1172:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 2834              		.loc 1 1172 17
 2835 0054 7B68     		ldr	r3, [r7, #4]
 2836 0056 FA68     		ldr	r2, [r7, #12]
 2837 0058 9A60     		str	r2, [r3, #8]
 2838              		.loc 1 1180 1
 2839 005a 02E0     		b	.L156
 2840              	.L155:
1177:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 2841              		.loc 1 1177 17
 2842 005c 7B68     		ldr	r3, [r7, #4]
 2843 005e FA68     		ldr	r2, [r7, #12]
 2844 0060 5A60     		str	r2, [r3, #4]
 2845              	.L156:
 2846              		.loc 1 1180 1
 2847 0062 00BF     		nop
 2848 0064 1437     		adds	r7, r7, #20
 2849              	.LCFI128:
 2850              		.cfi_def_cfa_offset 4
 2851 0066 BD46     		mov	sp, r7
 2852              	.LCFI129:
 2853              		.cfi_def_cfa_register 13
 2854              		@ sp needed
 2855 0068 80BC     		pop	{r7}
 2856              	.LCFI130:
 2857              		.cfi_restore 7
 2858              		.cfi_def_cfa_offset 0
 2859 006a 7047     		bx	lr
 2860              	.L158:
 2861              		.align	2
 2862              	.L157:
 2863 006c 7000F030 		.word	821035120
 2864              		.cfi_endproc
 2865              	.LFE50:
 2867              		.section	.text.CAN_GetITStatus,"ax",%progbits
 2868              		.align	1
 2869              		.global	CAN_GetITStatus
 2870              		.syntax unified
 2871              		.thumb
 2872              		.thumb_func
 2874              	CAN_GetITStatus:
 2875              	.LFB51:
1181:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
1182:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
1183:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Checks whether the specified CANx interrupt has occurred or not.
1184:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:    where x can be 1 or 2 to to select the CAN peripheral.
1185:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CAN_IT:  specifies the CAN interrupt source to check.
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 73


1186:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  This parameter can be one of the following flags: 
1187:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 -  CAN_IT_TME               
1188:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 -  CAN_IT_FMP0              
1189:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 -  CAN_IT_FF0               
1190:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 -  CAN_IT_FOV0              
1191:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 -  CAN_IT_FMP1              
1192:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 -  CAN_IT_FF1               
1193:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 -  CAN_IT_FOV1              
1194:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 -  CAN_IT_WKU  
1195:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 -  CAN_IT_SLK  
1196:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 -  CAN_IT_EWG    
1197:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 -  CAN_IT_EPV    
1198:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 -  CAN_IT_BOF    
1199:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 -  CAN_IT_LEC    
1200:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 -  CAN_IT_ERR 
1201:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval The current state of CAN_IT (SET or RESET).
1202:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
1203:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** ITStatus CAN_GetITStatus(CAN_TypeDef* CANx, uint32_t CAN_IT)
1204:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 2876              		.loc 1 1204 1
 2877              		.cfi_startproc
 2878              		@ args = 0, pretend = 0, frame = 16
 2879              		@ frame_needed = 1, uses_anonymous_args = 0
 2880 0000 80B5     		push	{r7, lr}
 2881              	.LCFI131:
 2882              		.cfi_def_cfa_offset 8
 2883              		.cfi_offset 7, -8
 2884              		.cfi_offset 14, -4
 2885 0002 84B0     		sub	sp, sp, #16
 2886              	.LCFI132:
 2887              		.cfi_def_cfa_offset 24
 2888 0004 00AF     		add	r7, sp, #0
 2889              	.LCFI133:
 2890              		.cfi_def_cfa_register 7
 2891 0006 7860     		str	r0, [r7, #4]
 2892 0008 3960     		str	r1, [r7]
1205:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   ITStatus itstatus = RESET;
 2893              		.loc 1 1205 12
 2894 000a 0023     		movs	r3, #0
 2895 000c FB73     		strb	r3, [r7, #15]
1206:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
1207:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
1208:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_IT(CAN_IT));
1209:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
1210:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* check the enable interrupt bit */
1211:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****  if((CANx->IER & CAN_IT) != RESET)
 2896              		.loc 1 1211 10
 2897 000e 7B68     		ldr	r3, [r7, #4]
 2898 0010 5A69     		ldr	r2, [r3, #20]
 2899              		.loc 1 1211 16
 2900 0012 3B68     		ldr	r3, [r7]
 2901 0014 1340     		ands	r3, r3, r2
 2902              		.loc 1 1211 4
 2903 0016 002B     		cmp	r3, #0
 2904 0018 00F01B81 		beq	.L160
1212:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****  {
1213:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    /* in case the Interrupt is enabled, .... */
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 74


1214:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     switch (CAN_IT)
 2905              		.loc 1 1214 5
 2906 001c 3B68     		ldr	r3, [r7]
 2907 001e B3F5003F 		cmp	r3, #131072
 2908 0022 00F0DD80 		beq	.L161
 2909 0026 3B68     		ldr	r3, [r7]
 2910 0028 B3F5003F 		cmp	r3, #131072
 2911 002c 00F20E81 		bhi	.L162
 2912 0030 3B68     		ldr	r3, [r7]
 2913 0032 B3F5803F 		cmp	r3, #65536
 2914 0036 00F0CA80 		beq	.L163
 2915 003a 3B68     		ldr	r3, [r7]
 2916 003c B3F5803F 		cmp	r3, #65536
 2917 0040 00F20481 		bhi	.L162
 2918 0044 3B68     		ldr	r3, [r7]
 2919 0046 B3F5004F 		cmp	r3, #32768
 2920 004a 00F0F680 		beq	.L164
 2921 004e 3B68     		ldr	r3, [r7]
 2922 0050 B3F5004F 		cmp	r3, #32768
 2923 0054 00F2FA80 		bhi	.L162
 2924 0058 3B68     		ldr	r3, [r7]
 2925 005a B3F5006F 		cmp	r3, #2048
 2926 005e 00F0E380 		beq	.L165
 2927 0062 3B68     		ldr	r3, [r7]
 2928 0064 B3F5006F 		cmp	r3, #2048
 2929 0068 00F2F080 		bhi	.L162
 2930 006c 3B68     		ldr	r3, [r7]
 2931 006e B3F5806F 		cmp	r3, #1024
 2932 0072 00F0D080 		beq	.L166
 2933 0076 3B68     		ldr	r3, [r7]
 2934 0078 B3F5806F 		cmp	r3, #1024
 2935 007c 00F2E680 		bhi	.L162
 2936 0080 3B68     		ldr	r3, [r7]
 2937 0082 B3F5007F 		cmp	r3, #512
 2938 0086 00F0BD80 		beq	.L167
 2939 008a 3B68     		ldr	r3, [r7]
 2940 008c B3F5007F 		cmp	r3, #512
 2941 0090 00F2DC80 		bhi	.L162
 2942 0094 3B68     		ldr	r3, [r7]
 2943 0096 B3F5807F 		cmp	r3, #256
 2944 009a 00F0AA80 		beq	.L168
 2945 009e 3B68     		ldr	r3, [r7]
 2946 00a0 B3F5807F 		cmp	r3, #256
 2947 00a4 00F2D280 		bhi	.L162
 2948 00a8 3B68     		ldr	r3, [r7]
 2949 00aa 202B     		cmp	r3, #32
 2950 00ac 4CD8     		bhi	.L169
 2951 00ae 3B68     		ldr	r3, [r7]
 2952 00b0 002B     		cmp	r3, #0
 2953 00b2 00F0CB80 		beq	.L162
 2954 00b6 3B68     		ldr	r3, [r7]
 2955 00b8 013B     		subs	r3, r3, #1
 2956 00ba 1F2B     		cmp	r3, #31
 2957 00bc 00F2C680 		bhi	.L162
 2958 00c0 01A2     		adr	r2, .L171
 2959 00c2 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 2960 00c6 00BF     		.p2align 2
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 75


 2961              	.L171:
 2962 00c8 51010000 		.word	.L176+1
 2963 00cc 63010000 		.word	.L175+1
 2964 00d0 4D020000 		.word	.L162+1
 2965 00d4 75010000 		.word	.L174+1
 2966 00d8 4D020000 		.word	.L162+1
 2967 00dc 4D020000 		.word	.L162+1
 2968 00e0 4D020000 		.word	.L162+1
 2969 00e4 87010000 		.word	.L173+1
 2970 00e8 4D020000 		.word	.L162+1
 2971 00ec 4D020000 		.word	.L162+1
 2972 00f0 4D020000 		.word	.L162+1
 2973 00f4 4D020000 		.word	.L162+1
 2974 00f8 4D020000 		.word	.L162+1
 2975 00fc 4D020000 		.word	.L162+1
 2976 0100 4D020000 		.word	.L162+1
 2977 0104 99010000 		.word	.L172+1
 2978 0108 4D020000 		.word	.L162+1
 2979 010c 4D020000 		.word	.L162+1
 2980 0110 4D020000 		.word	.L162+1
 2981 0114 4D020000 		.word	.L162+1
 2982 0118 4D020000 		.word	.L162+1
 2983 011c 4D020000 		.word	.L162+1
 2984 0120 4D020000 		.word	.L162+1
 2985 0124 4D020000 		.word	.L162+1
 2986 0128 4D020000 		.word	.L162+1
 2987 012c 4D020000 		.word	.L162+1
 2988 0130 4D020000 		.word	.L162+1
 2989 0134 4D020000 		.word	.L162+1
 2990 0138 4D020000 		.word	.L162+1
 2991 013c 4D020000 		.word	.L162+1
 2992 0140 4D020000 		.word	.L162+1
 2993 0144 AB010000 		.word	.L170+1
 2994              		.p2align 1
 2995              	.L169:
 2996 0148 3B68     		ldr	r3, [r7]
 2997 014a 402B     		cmp	r3, #64
 2998 014c 36D0     		beq	.L177
 2999 014e 7DE0     		b	.L162
 3000              	.L176:
1215:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
1216:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_TME:
1217:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                /* Check CAN_TSR_RQCPx bits */
1218:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	             itstatus = CheckITStatus(CANx->TSR, CAN_TSR_RQCP0|CAN_TSR_RQCP1|CAN_TSR_RQCP2);  
 3001              		.loc 1 1218 26
 3002 0150 7B68     		ldr	r3, [r7, #4]
 3003 0152 9B68     		ldr	r3, [r3, #8]
 3004 0154 4249     		ldr	r1, .L181
 3005 0156 1846     		mov	r0, r3
 3006 0158 FFF7FEFF 		bl	CheckITStatus
 3007 015c 0346     		mov	r3, r0
 3008 015e FB73     		strb	r3, [r7, #15]
1219:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 3009              		.loc 1 1219 8
 3010 0160 79E0     		b	.L179
 3011              	.L175:
1220:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_FMP0:
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 76


1221:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                /* Check CAN_RF0R_FMP0 bit */
1222:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	             itstatus = CheckITStatus(CANx->RF0R, CAN_RF0R_FMP0);  
 3012              		.loc 1 1222 26
 3013 0162 7B68     		ldr	r3, [r7, #4]
 3014 0164 DB68     		ldr	r3, [r3, #12]
 3015 0166 0321     		movs	r1, #3
 3016 0168 1846     		mov	r0, r3
 3017 016a FFF7FEFF 		bl	CheckITStatus
 3018 016e 0346     		mov	r3, r0
 3019 0170 FB73     		strb	r3, [r7, #15]
1223:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 3020              		.loc 1 1223 8
 3021 0172 70E0     		b	.L179
 3022              	.L174:
1224:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_FF0:
1225:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                /* Check CAN_RF0R_FULL0 bit */
1226:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                itstatus = CheckITStatus(CANx->RF0R, CAN_RF0R_FULL0);  
 3023              		.loc 1 1226 27
 3024 0174 7B68     		ldr	r3, [r7, #4]
 3025 0176 DB68     		ldr	r3, [r3, #12]
 3026 0178 0821     		movs	r1, #8
 3027 017a 1846     		mov	r0, r3
 3028 017c FFF7FEFF 		bl	CheckITStatus
 3029 0180 0346     		mov	r3, r0
 3030 0182 FB73     		strb	r3, [r7, #15]
1227:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 3031              		.loc 1 1227 8
 3032 0184 67E0     		b	.L179
 3033              	.L173:
1228:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_FOV0:
1229:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                /* Check CAN_RF0R_FOVR0 bit */
1230:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                itstatus = CheckITStatus(CANx->RF0R, CAN_RF0R_FOVR0);  
 3034              		.loc 1 1230 27
 3035 0186 7B68     		ldr	r3, [r7, #4]
 3036 0188 DB68     		ldr	r3, [r3, #12]
 3037 018a 1021     		movs	r1, #16
 3038 018c 1846     		mov	r0, r3
 3039 018e FFF7FEFF 		bl	CheckITStatus
 3040 0192 0346     		mov	r3, r0
 3041 0194 FB73     		strb	r3, [r7, #15]
1231:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 3042              		.loc 1 1231 8
 3043 0196 5EE0     		b	.L179
 3044              	.L172:
1232:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_FMP1:
1233:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                /* Check CAN_RF1R_FMP1 bit */
1234:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                itstatus = CheckITStatus(CANx->RF1R, CAN_RF1R_FMP1);  
 3045              		.loc 1 1234 27
 3046 0198 7B68     		ldr	r3, [r7, #4]
 3047 019a 1B69     		ldr	r3, [r3, #16]
 3048 019c 0321     		movs	r1, #3
 3049 019e 1846     		mov	r0, r3
 3050 01a0 FFF7FEFF 		bl	CheckITStatus
 3051 01a4 0346     		mov	r3, r0
 3052 01a6 FB73     		strb	r3, [r7, #15]
1235:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 3053              		.loc 1 1235 8
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 77


 3054 01a8 55E0     		b	.L179
 3055              	.L170:
1236:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_FF1:
1237:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                /* Check CAN_RF1R_FULL1 bit */
1238:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	             itstatus = CheckITStatus(CANx->RF1R, CAN_RF1R_FULL1);  
 3056              		.loc 1 1238 26
 3057 01aa 7B68     		ldr	r3, [r7, #4]
 3058 01ac 1B69     		ldr	r3, [r3, #16]
 3059 01ae 0821     		movs	r1, #8
 3060 01b0 1846     		mov	r0, r3
 3061 01b2 FFF7FEFF 		bl	CheckITStatus
 3062 01b6 0346     		mov	r3, r0
 3063 01b8 FB73     		strb	r3, [r7, #15]
1239:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 3064              		.loc 1 1239 8
 3065 01ba 4CE0     		b	.L179
 3066              	.L177:
1240:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_FOV1:
1241:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                /* Check CAN_RF1R_FOVR1 bit */
1242:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	             itstatus = CheckITStatus(CANx->RF1R, CAN_RF1R_FOVR1);  
 3067              		.loc 1 1242 26
 3068 01bc 7B68     		ldr	r3, [r7, #4]
 3069 01be 1B69     		ldr	r3, [r3, #16]
 3070 01c0 1021     		movs	r1, #16
 3071 01c2 1846     		mov	r0, r3
 3072 01c4 FFF7FEFF 		bl	CheckITStatus
 3073 01c8 0346     		mov	r3, r0
 3074 01ca FB73     		strb	r3, [r7, #15]
1243:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 3075              		.loc 1 1243 8
 3076 01cc 43E0     		b	.L179
 3077              	.L163:
1244:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_WKU:
1245:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                /* Check CAN_MSR_WKUI bit */
1246:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                itstatus = CheckITStatus(CANx->MSR, CAN_MSR_WKUI);  
 3078              		.loc 1 1246 27
 3079 01ce 7B68     		ldr	r3, [r7, #4]
 3080 01d0 5B68     		ldr	r3, [r3, #4]
 3081 01d2 0821     		movs	r1, #8
 3082 01d4 1846     		mov	r0, r3
 3083 01d6 FFF7FEFF 		bl	CheckITStatus
 3084 01da 0346     		mov	r3, r0
 3085 01dc FB73     		strb	r3, [r7, #15]
1247:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 3086              		.loc 1 1247 8
 3087 01de 3AE0     		b	.L179
 3088              	.L161:
1248:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_SLK:
1249:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                /* Check CAN_MSR_SLAKI bit */
1250:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	             itstatus = CheckITStatus(CANx->MSR, CAN_MSR_SLAKI);  
 3089              		.loc 1 1250 26
 3090 01e0 7B68     		ldr	r3, [r7, #4]
 3091 01e2 5B68     		ldr	r3, [r3, #4]
 3092 01e4 1021     		movs	r1, #16
 3093 01e6 1846     		mov	r0, r3
 3094 01e8 FFF7FEFF 		bl	CheckITStatus
 3095 01ec 0346     		mov	r3, r0
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 78


 3096 01ee FB73     		strb	r3, [r7, #15]
1251:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 3097              		.loc 1 1251 8
 3098 01f0 31E0     		b	.L179
 3099              	.L168:
1252:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_EWG:
1253:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                /* Check CAN_ESR_EWGF bit */
1254:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	             itstatus = CheckITStatus(CANx->ESR, CAN_ESR_EWGF);  
 3100              		.loc 1 1254 26
 3101 01f2 7B68     		ldr	r3, [r7, #4]
 3102 01f4 9B69     		ldr	r3, [r3, #24]
 3103 01f6 0121     		movs	r1, #1
 3104 01f8 1846     		mov	r0, r3
 3105 01fa FFF7FEFF 		bl	CheckITStatus
 3106 01fe 0346     		mov	r3, r0
 3107 0200 FB73     		strb	r3, [r7, #15]
1255:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 3108              		.loc 1 1255 8
 3109 0202 28E0     		b	.L179
 3110              	.L167:
1256:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_EPV:
1257:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                /* Check CAN_ESR_EPVF bit */
1258:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	             itstatus = CheckITStatus(CANx->ESR, CAN_ESR_EPVF);  
 3111              		.loc 1 1258 26
 3112 0204 7B68     		ldr	r3, [r7, #4]
 3113 0206 9B69     		ldr	r3, [r3, #24]
 3114 0208 0221     		movs	r1, #2
 3115 020a 1846     		mov	r0, r3
 3116 020c FFF7FEFF 		bl	CheckITStatus
 3117 0210 0346     		mov	r3, r0
 3118 0212 FB73     		strb	r3, [r7, #15]
1259:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 3119              		.loc 1 1259 8
 3120 0214 1FE0     		b	.L179
 3121              	.L166:
1260:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_BOF:
1261:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                /* Check CAN_ESR_BOFF bit */
1262:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	             itstatus = CheckITStatus(CANx->ESR, CAN_ESR_BOFF);  
 3122              		.loc 1 1262 26
 3123 0216 7B68     		ldr	r3, [r7, #4]
 3124 0218 9B69     		ldr	r3, [r3, #24]
 3125 021a 0421     		movs	r1, #4
 3126 021c 1846     		mov	r0, r3
 3127 021e FFF7FEFF 		bl	CheckITStatus
 3128 0222 0346     		mov	r3, r0
 3129 0224 FB73     		strb	r3, [r7, #15]
1263:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 3130              		.loc 1 1263 8
 3131 0226 16E0     		b	.L179
 3132              	.L165:
1264:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_LEC:
1265:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                /* Check CAN_ESR_LEC bit */
1266:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	             itstatus = CheckITStatus(CANx->ESR, CAN_ESR_LEC);  
 3133              		.loc 1 1266 26
 3134 0228 7B68     		ldr	r3, [r7, #4]
 3135 022a 9B69     		ldr	r3, [r3, #24]
 3136 022c 7021     		movs	r1, #112
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 79


 3137 022e 1846     		mov	r0, r3
 3138 0230 FFF7FEFF 		bl	CheckITStatus
 3139 0234 0346     		mov	r3, r0
 3140 0236 FB73     		strb	r3, [r7, #15]
1267:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 3141              		.loc 1 1267 8
 3142 0238 0DE0     		b	.L179
 3143              	.L164:
1268:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_ERR:
1269:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                /* Check CAN_MSR_ERRI bit */ 
1270:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                itstatus = CheckITStatus(CANx->MSR, CAN_MSR_ERRI); 
 3144              		.loc 1 1270 27
 3145 023a 7B68     		ldr	r3, [r7, #4]
 3146 023c 5B68     		ldr	r3, [r3, #4]
 3147 023e 0421     		movs	r1, #4
 3148 0240 1846     		mov	r0, r3
 3149 0242 FFF7FEFF 		bl	CheckITStatus
 3150 0246 0346     		mov	r3, r0
 3151 0248 FB73     		strb	r3, [r7, #15]
1271:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 3152              		.loc 1 1271 8
 3153 024a 04E0     		b	.L179
 3154              	.L162:
1272:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       default :
1273:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                /* in case of error, return RESET */
1274:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               itstatus = RESET;
 3155              		.loc 1 1274 24
 3156 024c 0023     		movs	r3, #0
 3157 024e FB73     		strb	r3, [r7, #15]
1275:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               break;
 3158              		.loc 1 1275 15
 3159 0250 01E0     		b	.L179
 3160              	.L160:
1276:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
1277:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
1278:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else
1279:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
1280:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    /* in case the Interrupt is not enabled, return RESET */
1281:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     itstatus  = RESET;
 3161              		.loc 1 1281 15
 3162 0252 0023     		movs	r3, #0
 3163 0254 FB73     		strb	r3, [r7, #15]
 3164              	.L179:
1282:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
1283:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
1284:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Return the CAN_IT status */
1285:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   return  itstatus;
 3165              		.loc 1 1285 11
 3166 0256 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
1286:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 3167              		.loc 1 1286 1
 3168 0258 1846     		mov	r0, r3
 3169 025a 1037     		adds	r7, r7, #16
 3170              	.LCFI134:
 3171              		.cfi_def_cfa_offset 8
 3172 025c BD46     		mov	sp, r7
 3173              	.LCFI135:
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 80


 3174              		.cfi_def_cfa_register 13
 3175              		@ sp needed
 3176 025e 80BD     		pop	{r7, pc}
 3177              	.L182:
 3178              		.align	2
 3179              	.L181:
 3180 0260 01010100 		.word	65793
 3181              		.cfi_endproc
 3182              	.LFE51:
 3184              		.section	.text.CAN_ClearITPendingBit,"ax",%progbits
 3185              		.align	1
 3186              		.global	CAN_ClearITPendingBit
 3187              		.syntax unified
 3188              		.thumb
 3189              		.thumb_func
 3191              	CAN_ClearITPendingBit:
 3192              	.LFB52:
1287:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
1288:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
1289:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Clears the CANx's interrupt pending bits.
1290:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:    where x can be 1 or 2 to to select the CAN peripheral.
1291:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CAN_IT: specifies the interrupt pending bit to clear.
1292:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  -  CAN_IT_TME                     
1293:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  -  CAN_IT_FF0               
1294:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  -  CAN_IT_FOV0                     
1295:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  -  CAN_IT_FF1               
1296:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  -  CAN_IT_FOV1              
1297:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  -  CAN_IT_WKU  
1298:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  -  CAN_IT_SLK  
1299:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  -  CAN_IT_EWG    
1300:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  -  CAN_IT_EPV    
1301:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  -  CAN_IT_BOF    
1302:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  -  CAN_IT_LEC    
1303:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  -  CAN_IT_ERR 
1304:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval None.
1305:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
1306:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** void CAN_ClearITPendingBit(CAN_TypeDef* CANx, uint32_t CAN_IT)
1307:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 3193              		.loc 1 1307 1
 3194              		.cfi_startproc
 3195              		@ args = 0, pretend = 0, frame = 8
 3196              		@ frame_needed = 1, uses_anonymous_args = 0
 3197              		@ link register save eliminated.
 3198 0000 80B4     		push	{r7}
 3199              	.LCFI136:
 3200              		.cfi_def_cfa_offset 4
 3201              		.cfi_offset 7, -4
 3202 0002 83B0     		sub	sp, sp, #12
 3203              	.LCFI137:
 3204              		.cfi_def_cfa_offset 16
 3205 0004 00AF     		add	r7, sp, #0
 3206              	.LCFI138:
 3207              		.cfi_def_cfa_register 7
 3208 0006 7860     		str	r0, [r7, #4]
 3209 0008 3960     		str	r1, [r7]
1308:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
1309:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 81


1310:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_CLEAR_IT(CAN_IT));
1311:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
1312:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   switch (CAN_IT)
 3210              		.loc 1 1312 3
 3211 000a 3B68     		ldr	r3, [r7]
 3212 000c B3F5003F 		cmp	r3, #131072
 3213 0010 00F0AA80 		beq	.L184
 3214 0014 3B68     		ldr	r3, [r7]
 3215 0016 B3F5003F 		cmp	r3, #131072
 3216 001a 00F2C380 		bhi	.L200
 3217 001e 3B68     		ldr	r3, [r7]
 3218 0020 B3F5803F 		cmp	r3, #65536
 3219 0024 00F09C80 		beq	.L186
 3220 0028 3B68     		ldr	r3, [r7]
 3221 002a B3F5803F 		cmp	r3, #65536
 3222 002e 00F2B980 		bhi	.L200
 3223 0032 3B68     		ldr	r3, [r7]
 3224 0034 B3F5004F 		cmp	r3, #32768
 3225 0038 00F0AD80 		beq	.L187
 3226 003c 3B68     		ldr	r3, [r7]
 3227 003e B3F5004F 		cmp	r3, #32768
 3228 0042 00F2AF80 		bhi	.L200
 3229 0046 3B68     		ldr	r3, [r7]
 3230 0048 B3F5006F 		cmp	r3, #2048
 3231 004c 00F09C80 		beq	.L188
 3232 0050 3B68     		ldr	r3, [r7]
 3233 0052 B3F5006F 		cmp	r3, #2048
 3234 0056 00F2A580 		bhi	.L200
 3235 005a 3B68     		ldr	r3, [r7]
 3236 005c B3F5806F 		cmp	r3, #1024
 3237 0060 00F08E80 		beq	.L189
 3238 0064 3B68     		ldr	r3, [r7]
 3239 0066 B3F5806F 		cmp	r3, #1024
 3240 006a 00F29B80 		bhi	.L200
 3241 006e 3B68     		ldr	r3, [r7]
 3242 0070 B3F5007F 		cmp	r3, #512
 3243 0074 00F08080 		beq	.L190
 3244 0078 3B68     		ldr	r3, [r7]
 3245 007a B3F5007F 		cmp	r3, #512
 3246 007e 00F29180 		bhi	.L200
 3247 0082 3B68     		ldr	r3, [r7]
 3248 0084 B3F5807F 		cmp	r3, #256
 3249 0088 72D0     		beq	.L191
 3250 008a 3B68     		ldr	r3, [r7]
 3251 008c B3F5807F 		cmp	r3, #256
 3252 0090 00F28880 		bhi	.L200
 3253 0094 3B68     		ldr	r3, [r7]
 3254 0096 202B     		cmp	r3, #32
 3255 0098 4AD8     		bhi	.L192
 3256 009a 3B68     		ldr	r3, [r7]
 3257 009c 002B     		cmp	r3, #0
 3258 009e 00F08180 		beq	.L200
 3259 00a2 3B68     		ldr	r3, [r7]
 3260 00a4 013B     		subs	r3, r3, #1
 3261 00a6 1F2B     		cmp	r3, #31
 3262 00a8 7CD8     		bhi	.L200
 3263 00aa 01A2     		adr	r2, .L194
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 82


 3264 00ac 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 3265              		.p2align 2
 3266              	.L194:
 3267 00b0 39010000 		.word	.L197+1
 3268 00b4 A5010000 		.word	.L200+1
 3269 00b8 A5010000 		.word	.L200+1
 3270 00bc 41010000 		.word	.L196+1
 3271 00c0 A5010000 		.word	.L200+1
 3272 00c4 A5010000 		.word	.L200+1
 3273 00c8 A5010000 		.word	.L200+1
 3274 00cc 49010000 		.word	.L195+1
 3275 00d0 A5010000 		.word	.L200+1
 3276 00d4 A5010000 		.word	.L200+1
 3277 00d8 A5010000 		.word	.L200+1
 3278 00dc A5010000 		.word	.L200+1
 3279 00e0 A5010000 		.word	.L200+1
 3280 00e4 A5010000 		.word	.L200+1
 3281 00e8 A5010000 		.word	.L200+1
 3282 00ec A5010000 		.word	.L200+1
 3283 00f0 A5010000 		.word	.L200+1
 3284 00f4 A5010000 		.word	.L200+1
 3285 00f8 A5010000 		.word	.L200+1
 3286 00fc A5010000 		.word	.L200+1
 3287 0100 A5010000 		.word	.L200+1
 3288 0104 A5010000 		.word	.L200+1
 3289 0108 A5010000 		.word	.L200+1
 3290 010c A5010000 		.word	.L200+1
 3291 0110 A5010000 		.word	.L200+1
 3292 0114 A5010000 		.word	.L200+1
 3293 0118 A5010000 		.word	.L200+1
 3294 011c A5010000 		.word	.L200+1
 3295 0120 A5010000 		.word	.L200+1
 3296 0124 A5010000 		.word	.L200+1
 3297 0128 A5010000 		.word	.L200+1
 3298 012c 51010000 		.word	.L193+1
 3299              		.p2align 1
 3300              	.L192:
 3301 0130 3B68     		ldr	r3, [r7]
 3302 0132 402B     		cmp	r3, #64
 3303 0134 10D0     		beq	.L198
1313:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
1314:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_TME:
1315:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Clear CAN_TSR_RQCPx (rc_w1)*/
1316:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      CANx->TSR = CAN_TSR_RQCP0|CAN_TSR_RQCP1|CAN_TSR_RQCP2;  
1317:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1318:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_FF0:
1319:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Clear CAN_RF0R_FULL0 (rc_w1)*/
1320:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      CANx->RF0R = CAN_RF0R_FULL0; 
1321:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1322:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_FOV0:
1323:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Clear CAN_RF0R_FOVR0 (rc_w1)*/
1324:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      CANx->RF0R = CAN_RF0R_FOVR0; 
1325:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1326:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_FF1:
1327:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Clear CAN_RF1R_FULL1 (rc_w1)*/
1328:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      CANx->RF1R = CAN_RF1R_FULL1;  
1329:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 83


1330:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_FOV1:
1331:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Clear CAN_RF1R_FOVR1 (rc_w1)*/
1332:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      CANx->RF1R = CAN_RF1R_FOVR1; 
1333:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1334:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_WKU:
1335:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Clear CAN_MSR_WKUI (rc_w1)*/
1336:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      CANx->MSR = CAN_MSR_WKUI;  
1337:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1338:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_SLK:
1339:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Clear CAN_MSR_SLAKI (rc_w1)*/ 
1340:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      CANx->MSR = CAN_MSR_SLAKI;   
1341:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1342:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_EWG:
1343:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Clear CAN_MSR_ERRI (rc_w1) */
1344:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      CANx->MSR = CAN_MSR_ERRI;
1345:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Note : the corresponding Flag is cleared by hardware depending 
1346:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                         of the CAN Bus status*/ 
1347:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1348:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_EPV:
1349:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Clear CAN_MSR_ERRI (rc_w1) */
1350:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      CANx->MSR = CAN_MSR_ERRI; 
1351:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Note : the corresponding Flag is cleared by hardware depending 
1352:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                         of the CAN Bus status*/
1353:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1354:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_BOF:
1355:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Clear CAN_MSR_ERRI (rc_w1) */ 
1356:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      CANx->MSR = CAN_MSR_ERRI; 
1357:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Note : the corresponding Flag is cleared by hardware depending 
1358:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                         of the CAN Bus status*/
1359:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1360:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_LEC:
1361:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /*  Clear LEC bits */
1362:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      CANx->ESR = RESET; 
1363:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Clear CAN_MSR_ERRI (rc_w1) */
1364:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      CANx->MSR = CAN_MSR_ERRI; 
1365:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1366:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_ERR:
1367:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /*Clear LEC bits */
1368:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      CANx->ESR = RESET; 
1369:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Clear CAN_MSR_ERRI (rc_w1) */
1370:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      CANx->MSR = CAN_MSR_ERRI; 
1371:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      /* Note : BOFF, EPVF and EWGF Flags are cleared by hardware depending 
1372:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                   of the CAN Bus status*/
1373:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1374:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       default :
1375:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 3304              		.loc 1 1375 8
 3305 0136 35E0     		b	.L200
 3306              	.L197:
1316:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 3307              		.loc 1 1316 18
 3308 0138 7B68     		ldr	r3, [r7, #4]
 3309 013a 1D4A     		ldr	r2, .L201
 3310 013c 9A60     		str	r2, [r3, #8]
1317:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_FF0:
 3311              		.loc 1 1317 8
 3312 013e 32E0     		b	.L199
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 84


 3313              	.L196:
1320:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 3314              		.loc 1 1320 19
 3315 0140 7B68     		ldr	r3, [r7, #4]
 3316 0142 0822     		movs	r2, #8
 3317 0144 DA60     		str	r2, [r3, #12]
1321:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_FOV0:
 3318              		.loc 1 1321 8
 3319 0146 2EE0     		b	.L199
 3320              	.L195:
1324:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 3321              		.loc 1 1324 19
 3322 0148 7B68     		ldr	r3, [r7, #4]
 3323 014a 1022     		movs	r2, #16
 3324 014c DA60     		str	r2, [r3, #12]
1325:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_FF1:
 3325              		.loc 1 1325 8
 3326 014e 2AE0     		b	.L199
 3327              	.L193:
1328:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 3328              		.loc 1 1328 19
 3329 0150 7B68     		ldr	r3, [r7, #4]
 3330 0152 0822     		movs	r2, #8
 3331 0154 1A61     		str	r2, [r3, #16]
1329:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_FOV1:
 3332              		.loc 1 1329 8
 3333 0156 26E0     		b	.L199
 3334              	.L198:
1332:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 3335              		.loc 1 1332 19
 3336 0158 7B68     		ldr	r3, [r7, #4]
 3337 015a 1022     		movs	r2, #16
 3338 015c 1A61     		str	r2, [r3, #16]
1333:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_WKU:
 3339              		.loc 1 1333 8
 3340 015e 22E0     		b	.L199
 3341              	.L186:
1336:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 3342              		.loc 1 1336 18
 3343 0160 7B68     		ldr	r3, [r7, #4]
 3344 0162 0822     		movs	r2, #8
 3345 0164 5A60     		str	r2, [r3, #4]
1337:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_SLK:
 3346              		.loc 1 1337 8
 3347 0166 1EE0     		b	.L199
 3348              	.L184:
1340:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 3349              		.loc 1 1340 18
 3350 0168 7B68     		ldr	r3, [r7, #4]
 3351 016a 1022     		movs	r2, #16
 3352 016c 5A60     		str	r2, [r3, #4]
1341:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_EWG:
 3353              		.loc 1 1341 8
 3354 016e 1AE0     		b	.L199
 3355              	.L191:
1344:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Note : the corresponding Flag is cleared by hardware depending 
 3356              		.loc 1 1344 18
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 85


 3357 0170 7B68     		ldr	r3, [r7, #4]
 3358 0172 0422     		movs	r2, #4
 3359 0174 5A60     		str	r2, [r3, #4]
1347:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_EPV:
 3360              		.loc 1 1347 8
 3361 0176 16E0     		b	.L199
 3362              	.L190:
1350:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Note : the corresponding Flag is cleared by hardware depending 
 3363              		.loc 1 1350 18
 3364 0178 7B68     		ldr	r3, [r7, #4]
 3365 017a 0422     		movs	r2, #4
 3366 017c 5A60     		str	r2, [r3, #4]
1353:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_BOF:
 3367              		.loc 1 1353 8
 3368 017e 12E0     		b	.L199
 3369              	.L189:
1356:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Note : the corresponding Flag is cleared by hardware depending 
 3370              		.loc 1 1356 18
 3371 0180 7B68     		ldr	r3, [r7, #4]
 3372 0182 0422     		movs	r2, #4
 3373 0184 5A60     		str	r2, [r3, #4]
1359:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_LEC:
 3374              		.loc 1 1359 8
 3375 0186 0EE0     		b	.L199
 3376              	.L188:
1362:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Clear CAN_MSR_ERRI (rc_w1) */
 3377              		.loc 1 1362 18
 3378 0188 7B68     		ldr	r3, [r7, #4]
 3379 018a 0022     		movs	r2, #0
 3380 018c 9A61     		str	r2, [r3, #24]
1364:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 3381              		.loc 1 1364 18
 3382 018e 7B68     		ldr	r3, [r7, #4]
 3383 0190 0422     		movs	r2, #4
 3384 0192 5A60     		str	r2, [r3, #4]
1365:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_ERR:
 3385              		.loc 1 1365 8
 3386 0194 07E0     		b	.L199
 3387              	.L187:
1368:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Clear CAN_MSR_ERRI (rc_w1) */
 3388              		.loc 1 1368 18
 3389 0196 7B68     		ldr	r3, [r7, #4]
 3390 0198 0022     		movs	r2, #0
 3391 019a 9A61     		str	r2, [r3, #24]
1370:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      /* Note : BOFF, EPVF and EWGF Flags are cleared by hardware depending 
 3392              		.loc 1 1370 18
 3393 019c 7B68     		ldr	r3, [r7, #4]
 3394 019e 0422     		movs	r2, #4
 3395 01a0 5A60     		str	r2, [r3, #4]
1373:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       default :
 3396              		.loc 1 1373 8
 3397 01a2 00E0     		b	.L199
 3398              	.L200:
 3399              		.loc 1 1375 8
 3400 01a4 00BF     		nop
 3401              	.L199:
1376:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    }
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 86


1377:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 3402              		.loc 1 1377 1
 3403 01a6 00BF     		nop
 3404 01a8 0C37     		adds	r7, r7, #12
 3405              	.LCFI139:
 3406              		.cfi_def_cfa_offset 4
 3407 01aa BD46     		mov	sp, r7
 3408              	.LCFI140:
 3409              		.cfi_def_cfa_register 13
 3410              		@ sp needed
 3411 01ac 80BC     		pop	{r7}
 3412              	.LCFI141:
 3413              		.cfi_restore 7
 3414              		.cfi_def_cfa_offset 0
 3415 01ae 7047     		bx	lr
 3416              	.L202:
 3417              		.align	2
 3418              	.L201:
 3419 01b0 01010100 		.word	65793
 3420              		.cfi_endproc
 3421              	.LFE52:
 3423              		.section	.text.CheckITStatus,"ax",%progbits
 3424              		.align	1
 3425              		.syntax unified
 3426              		.thumb
 3427              		.thumb_func
 3429              	CheckITStatus:
 3430              	.LFB53:
1378:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
1379:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
1380:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Checks whether the CAN interrupt has occurred or not.
1381:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CAN_Reg: specifies the CAN interrupt register to check.
1382:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  It_Bit:  specifies the interrupt source bit to check.
1383:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval The new state of the CAN Interrupt (SET or RESET).
1384:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
1385:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** static ITStatus CheckITStatus(uint32_t CAN_Reg, uint32_t It_Bit)
1386:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 3431              		.loc 1 1386 1
 3432              		.cfi_startproc
 3433              		@ args = 0, pretend = 0, frame = 16
 3434              		@ frame_needed = 1, uses_anonymous_args = 0
 3435              		@ link register save eliminated.
 3436 0000 80B4     		push	{r7}
 3437              	.LCFI142:
 3438              		.cfi_def_cfa_offset 4
 3439              		.cfi_offset 7, -4
 3440 0002 85B0     		sub	sp, sp, #20
 3441              	.LCFI143:
 3442              		.cfi_def_cfa_offset 24
 3443 0004 00AF     		add	r7, sp, #0
 3444              	.LCFI144:
 3445              		.cfi_def_cfa_register 7
 3446 0006 7860     		str	r0, [r7, #4]
 3447 0008 3960     		str	r1, [r7]
1387:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   ITStatus pendingbitstatus = RESET;
 3448              		.loc 1 1387 12
 3449 000a 0023     		movs	r3, #0
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 87


 3450 000c FB73     		strb	r3, [r7, #15]
1388:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
1389:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if ((CAN_Reg & It_Bit) != (uint32_t)RESET)
 3451              		.loc 1 1389 16
 3452 000e 7A68     		ldr	r2, [r7, #4]
 3453 0010 3B68     		ldr	r3, [r7]
 3454 0012 1340     		ands	r3, r3, r2
 3455              		.loc 1 1389 6
 3456 0014 002B     		cmp	r3, #0
 3457 0016 02D0     		beq	.L204
1390:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
1391:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* CAN_IT is set */
1392:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     pendingbitstatus = SET;
 3458              		.loc 1 1392 22
 3459 0018 0123     		movs	r3, #1
 3460 001a FB73     		strb	r3, [r7, #15]
 3461 001c 01E0     		b	.L205
 3462              	.L204:
1393:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
1394:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else
1395:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
1396:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* CAN_IT is reset */
1397:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     pendingbitstatus = RESET;
 3463              		.loc 1 1397 22
 3464 001e 0023     		movs	r3, #0
 3465 0020 FB73     		strb	r3, [r7, #15]
 3466              	.L205:
1398:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
1399:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   return pendingbitstatus;
 3467              		.loc 1 1399 10
 3468 0022 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
1400:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 3469              		.loc 1 1400 1
 3470 0024 1846     		mov	r0, r3
 3471 0026 1437     		adds	r7, r7, #20
 3472              	.LCFI145:
 3473              		.cfi_def_cfa_offset 4
 3474 0028 BD46     		mov	sp, r7
 3475              	.LCFI146:
 3476              		.cfi_def_cfa_register 13
 3477              		@ sp needed
 3478 002a 80BC     		pop	{r7}
 3479              	.LCFI147:
 3480              		.cfi_restore 7
 3481              		.cfi_def_cfa_offset 0
 3482 002c 7047     		bx	lr
 3483              		.cfi_endproc
 3484              	.LFE53:
 3486              		.text
 3487              	.Letext0:
 3488              		.file 2 "c:\\gcc-arm-none-eabi\\arm-none-eabi\\include\\machine\\_default_types.h"
 3489              		.file 3 "c:\\gcc-arm-none-eabi\\arm-none-eabi\\include\\sys\\_stdint.h"
 3490              		.file 4 "./Libraries/CMSIS/stm32f10x.h"
 3491              		.file 5 "./Libraries/STM32F10x_StdPeriph_Driver/inc/stm32f10x_can.h"
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 88


DEFINED SYMBOLS
                            *ABS*:00000000 stm32f10x_can.c
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:18     .text.CAN_DeInit:00000000 $t
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:24     .text.CAN_DeInit:00000000 CAN_DeInit
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:81     .text.CAN_DeInit:00000044 $d
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:86     .text.CAN_Init:00000000 $t
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:92     .text.CAN_Init:00000000 CAN_Init
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:394    .text.CAN_FilterInit:00000000 $t
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:400    .text.CAN_FilterInit:00000000 CAN_FilterInit
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:660    .text.CAN_FilterInit:00000180 $d
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:665    .text.CAN_StructInit:00000000 $t
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:671    .text.CAN_StructInit:00000000 CAN_StructInit
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:751    .text.CAN_SlaveStartBank:00000000 $t
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:757    .text.CAN_SlaveStartBank:00000000 CAN_SlaveStartBank
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:823    .text.CAN_SlaveStartBank:0000005c $d
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:828    .text.CAN_DBGFreeze:00000000 $t
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:834    .text.CAN_DBGFreeze:00000000 CAN_DBGFreeze
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:892    .text.CAN_TTComModeCmd:00000000 $t
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:898    .text.CAN_TTComModeCmd:00000000 CAN_TTComModeCmd
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:992    .text.CAN_Transmit:00000000 $t
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:998    .text.CAN_Transmit:00000000 CAN_Transmit
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:1292   .text.CAN_TransmitStatus:00000000 $t
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:1298   .text.CAN_TransmitStatus:00000000 CAN_TransmitStatus
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:1487   .text.CAN_TransmitStatus:000000ec $d
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:1497   .text.CAN_CancelTransmit:00000000 $t
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:1503   .text.CAN_CancelTransmit:00000000 CAN_CancelTransmit
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:1584   .text.CAN_Receive:00000000 $t
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:1590   .text.CAN_Receive:00000000 CAN_Receive
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:1843   .text.CAN_FIFORelease:00000000 $t
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:1849   .text.CAN_FIFORelease:00000000 CAN_FIFORelease
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:1907   .text.CAN_MessagePending:00000000 $t
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:1913   .text.CAN_MessagePending:00000000 CAN_MessagePending
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:1988   .text.CAN_OperatingModeRequest:00000000 $t
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:1994   .text.CAN_OperatingModeRequest:00000000 CAN_OperatingModeRequest
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:2197   .text.CAN_Sleep:00000000 $t
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:2203   .text.CAN_Sleep:00000000 CAN_Sleep
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:2265   .text.CAN_WakeUp:00000000 $t
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:2271   .text.CAN_WakeUp:00000000 CAN_WakeUp
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:2354   .text.CAN_GetLastErrorCode:00000000 $t
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:2360   .text.CAN_GetLastErrorCode:00000000 CAN_GetLastErrorCode
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:2409   .text.CAN_GetReceiveErrorCounter:00000000 $t
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:2415   .text.CAN_GetReceiveErrorCounter:00000000 CAN_GetReceiveErrorCounter
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:2463   .text.CAN_GetLSBTransmitErrorCounter:00000000 $t
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:2469   .text.CAN_GetLSBTransmitErrorCounter:00000000 CAN_GetLSBTransmitErrorCounter
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:2517   .text.CAN_ITConfig:00000000 $t
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:2523   .text.CAN_ITConfig:00000000 CAN_ITConfig
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:2587   .text.CAN_GetFlagStatus:00000000 $t
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:2593   .text.CAN_GetFlagStatus:00000000 CAN_GetFlagStatus
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:2758   .text.CAN_ClearFlag:00000000 $t
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:2764   .text.CAN_ClearFlag:00000000 CAN_ClearFlag
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:2863   .text.CAN_ClearFlag:0000006c $d
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:2868   .text.CAN_GetITStatus:00000000 $t
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:2874   .text.CAN_GetITStatus:00000000 CAN_GetITStatus
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:2962   .text.CAN_GetITStatus:000000c8 $d
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:2994   .text.CAN_GetITStatus:00000148 $t
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:3429   .text.CheckITStatus:00000000 CheckITStatus
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:3180   .text.CAN_GetITStatus:00000260 $d
ARM GAS  C:\Users\hao\AppData\Local\Temp\ccEELSd3.s 			page 89


C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:3185   .text.CAN_ClearITPendingBit:00000000 $t
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:3191   .text.CAN_ClearITPendingBit:00000000 CAN_ClearITPendingBit
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:3267   .text.CAN_ClearITPendingBit:000000b0 $d
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:3299   .text.CAN_ClearITPendingBit:00000130 $t
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:3419   .text.CAN_ClearITPendingBit:000001b0 $d
C:\Users\hao\AppData\Local\Temp\ccEELSd3.s:3424   .text.CheckITStatus:00000000 $t

UNDEFINED SYMBOLS
RCC_APB1PeriphResetCmd
